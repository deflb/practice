(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{591:function(e,a,t){"use strict";t.d(a,"a",function(){return b});t(630);var n=t(632),c=t.n(n),l=t(90),i=t(540),r=t(85),s=t(86),o=t(88),u=t(87),f=t(89),m=t(2),p=t.n(m),d=t(53),h=t(47),g=t(162),b=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(c)))).onChange=function(e,a,n){var c=t.props,r=c.files,s=c.maxLength,o=c.changeHandle,u=e.length;if(!(u>s)){if("add"===a){var f=e[u-1],m=new FormData;m.append("file",f.file),Object(d.a)({url:h.a.fileUpload,data:m,config:{baseURL:g.c}}).then(function(e){o(Object(i.a)(t.props.files).concat([Object(l.a)({},e,{url:f.url,fileUrl:e.url})]))}).catch(function(e){})}"remove"===a&&Object(d.a)({url:h.a.fileDelete,data:{url:r[n].fileUrl},config:{baseURL:g.c}}).then(function(e){var a=Object(i.a)(t.props.files);a.splice(n,1),o(a)}).catch(function(e){})}},t}return Object(f.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return p.a.createElement(c.a,Object.assign({multiple:!0,accept:"image/*,video/*"},this.props,{onChange:this.onChange}))}}]),a}(m.Component);b.defaultProps={maxLength:10,changeHandle:function(){}}},814:function(e,a,t){"use strict";t.r(a),t.d(a,"default",function(){return w});t(542);var n=t(543),c=t.n(n),l=(t(575),t(576)),i=t.n(l),r=(t(815),t(821)),s=t.n(r),o=(t(655),t(831)),u=t.n(o),f=(t(527),t(532)),m=t.n(f),p=(t(587),t(588)),d=t.n(p),h=t(85),g=t(86),b=t(88),v=t(87),O=t(89),y=t(2),E=t.n(y),j=t(839),k=t.n(j),_=t(591),C=t(53),V=t(47),w=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(t=Object(b.a)(this,(e=Object(v.a)(a)).call.apply(e,[this].concat(c)))).state={files:[],multiple:!0,BaseDataList:[],PickerValue:"",storeId:"",textareaValue:""},t.init=function(){Object(C.a)({url:V.a.getBaseDataList,data:{type:"CRM140_fClmTypeID"}}).then(function(e){var a=[];e.forEach(function(e,t){a.push({label:e.fdesc,value:e.fcode})}),t.setState({BaseDataList:a})}).catch(function(e){console.log(e)})},t.onChange=function(e,a,n){console.log(e,a,n),t.setState({files:e})},t.sqOk=function(e){t.setState({PickerValue:e})},t.commit=function(){var e=t.state,a=e.storeId,n=e.PickerValue,c=e.datePickerValue,l=e.textareaValue,i=e.files,r=[];i.forEach(function(e){r.push(e.fileUrl)});var s={custproblem:l,fasksettledate:String(c.getTime()),fclmtypeid:n,fordid:a,imgList:r};Object(C.a)({url:"/storejps/claim/save",data:s}).then(function(e){})},t}return Object(O.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){this.init()}},{key:"render",value:function(){var e=this,a=this.state,t=a.files,n=a.storeId,l=a.datePickerValue,r=a.textareaValue;return E.a.createElement("div",{className:k.a.apply},E.a.createElement("div",{className:k.a.item},E.a.createElement(d.a,{value:n,onChange:function(a){e.setState({storeId:a})}},"\u8ba2\u5355\u53f7")),E.a.createElement("div",{className:k.a.item},E.a.createElement(u.a,{data:this.state.BaseDataList,value:this.state.PickerValue,onOk:this.sqOk,cols:1},E.a.createElement(m.a.Item,{arrow:"horizontal"},"\u8bc9\u6c42"))),E.a.createElement("div",{className:k.a.item+" "+k.a.mb8},E.a.createElement(s.a,{data:this.state.BaseDataList,value:l,onChange:function(a){e.setState({datePickerValue:a})}},E.a.createElement(m.a.Item,{arrow:"horizontal"},"\u8981\u6c42\u5b8c\u6210\u65e5\u671f"))),E.a.createElement("div",{className:k.a.item},E.a.createElement(m.a.Item,null,"\u95ee\u9898\u63cf\u8ff0",E.a.createElement(i.a,{placeholder:"\u8bf7\u8f93\u5165\u95ee\u9898\u63cf\u8ff0","data-seed":"logId",value:r,onChange:function(a){e.setState({textareaValue:a})},ref:function(a){return e.autoFocusInst=a},autoHeight:!0}))),E.a.createElement("div",{className:k.a.item},E.a.createElement(m.a.Item,null,"\u62cd\u7167\u4e0a\u4f20",E.a.createElement("span",null,"(",t.length,"/10)"),E.a.createElement(_.a,{maxLength:10,changeHandle:function(a){e.setState({files:a})},selectable:t.length<10,files:t}))),E.a.createElement("div",{className:k.a.paddingbox},E.a.createElement(c.a,{type:"primary",onClick:this.commit},"\u63d0\u4ea4")))}}]),a}(y.Component)},839:function(e,a,t){e.exports={apply:"apply_apply__1soCr",item:"apply_item__3A6Nk",mb8:"apply_mb8__cV_Od",paddingbox:"apply_paddingbox__3yqy8"}}}]);
//# sourceMappingURL=35.74d2d0a8.chunk.js.map