{"version":3,"sources":["../node_modules/antd-mobile/lib/white-space/style/index.js","../node_modules/antd-mobile/lib/white-space/index.js","../node_modules/@babel/runtime/helpers/esm/extends.js","component/customWhiteSpace/index.js","component/customWhiteSpace/index.less","../node_modules/antd-mobile/lib/wing-blank/style/index.js","../node_modules/antd-mobile/lib/wing-blank/index.js","../node_modules/fbjs/lib/invariant.js","component/customImageUpload/index.js","view/personalCenter/suggestionFeedback/index.js","view/personalCenter/suggestionFeedback/index.less"],"names":["__webpack_require__","Object","defineProperty","exports","value","_classCallCheck3","_interopRequireDefault","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames2","_react2","obj","__esModule","default","WhiteSpace","_React$Component","this","__proto__","getPrototypeOf","apply","arguments","key","_props","props","prefixCls","size","className","style","onClick","wrapCls","createElement","Component","defaultProps","module","_extends","assign","target","i","length","source","prototype","hasOwnProperty","call","d","__webpack_exports__","_ref","E_mtzzh_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__","_props$className","react__WEBPACK_IMPORTED_MODULE_3___default","a","antd_mobile_lib_white_space__WEBPACK_IMPORTED_MODULE_1___default","concat","styles","wrapper","WingBlank","children","validateFormat","format","condition","b","c","e","f","error","undefined","Error","args","argIndex","replace","name","framesToPop","customImageUpload","onChange","fileList","type","index","_this$props","_this","files","maxLength","changeHandle","len","uploadRow","formData","FormData","append","file","request","url","api","fileUpload","data","config","baseURL","fileaddress","then","res","E_mtzzh_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__","E_mtzzh_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","fileUrl","catch","err","fileDelete","_files","splice","react__WEBPACK_IMPORTED_MODULE_9___default","antd_mobile_lib_image_picker__WEBPACK_IMPORTED_MODULE_1___default","multiple","accept","createForm","_Component","suggestionFeedback","_getPrototypeOf2","E_mtzzh_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_11__","_len","Array","_key","E_mtzzh_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_13__","E_mtzzh_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_14__","state","imgList","saveFeedback","form","validateFields","force","values","E_mtzzh_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_10__","map","item","fileName","antd_mobile_lib_toast__WEBPACK_IMPORTED_MODULE_9___default","success","timer","setTimeout","clearTimeout","history","goBack","E_mtzzh_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_15__","E_mtzzh_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_12__","_this2","_this$state","getFieldProps","react__WEBPACK_IMPORTED_MODULE_16___default","antd_mobile_lib_list__WEBPACK_IMPORTED_MODULE_5___default","antd_mobile_lib_textarea_item__WEBPACK_IMPORTED_MODULE_7___default","rules","required","message","rows","count","placeholder","renderHeader","Item","_component_customImageUpload__WEBPACK_IMPORTED_MODULE_19__","val","setState","selectable","_component_customWhiteSpace__WEBPACK_IMPORTED_MODULE_18__","antd_mobile_lib_wing_blank__WEBPACK_IMPORTED_MODULE_1___default","antd_mobile_lib_button__WEBPACK_IMPORTED_MODULE_3___default"],"mappings":"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","file":"static/js/23.f56a9993.chunk.js","sourcesContent":["'use strict';\n\nrequire('../../style/');\n\nrequire('./index.less');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar WhiteSpace = function (_React$Component) {\n  (0, _inherits3['default'])(WhiteSpace, _React$Component);\n\n  function WhiteSpace() {\n    (0, _classCallCheck3['default'])(this, WhiteSpace);\n    return (0, _possibleConstructorReturn3['default'])(this, (WhiteSpace.__proto__ || Object.getPrototypeOf(WhiteSpace)).apply(this, arguments));\n  }\n\n  (0, _createClass3['default'])(WhiteSpace, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          size = _props.size,\n          className = _props.className,\n          style = _props.style,\n          onClick = _props.onClick;\n      var wrapCls = (0, _classnames2['default'])(prefixCls, prefixCls + '-' + size, className);\n      return _react2['default'].createElement('div', {\n        className: wrapCls,\n        style: style,\n        onClick: onClick\n      });\n    }\n  }]);\n  return WhiteSpace;\n}(_react2['default'].Component);\n\nexports['default'] = WhiteSpace;\nWhiteSpace.defaultProps = {\n  prefixCls: 'am-whitespace',\n  size: 'md'\n};\nmodule.exports = exports['default'];","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import React from 'react';\r\nimport { WhiteSpace } from 'antd-mobile';\r\nimport styles from './index.less';\r\n\r\nexport default ({ ...props }) => {\r\n    const { className = null } = props;\r\n    return <WhiteSpace size='lg' {...props} className={className ? `${styles.wrapper} ${className}` : styles.wrapper} />\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"index_wrapper__g-gQ9\"};","'use strict';\n\nrequire('../../style/');\n\nrequire('./index.less');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar WingBlank = function (_React$Component) {\n  (0, _inherits3['default'])(WingBlank, _React$Component);\n\n  function WingBlank() {\n    (0, _classCallCheck3['default'])(this, WingBlank);\n    return (0, _possibleConstructorReturn3['default'])(this, (WingBlank.__proto__ || Object.getPrototypeOf(WingBlank)).apply(this, arguments));\n  }\n\n  (0, _createClass3['default'])(WingBlank, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          size = _props.size,\n          className = _props.className,\n          children = _props.children,\n          style = _props.style;\n      var wrapCls = (0, _classnames2['default'])(prefixCls, prefixCls + '-' + size, className);\n      return _react2['default'].createElement('div', {\n        className: wrapCls,\n        style: style\n      }, children);\n    }\n  }]);\n  return WingBlank;\n}(_react2['default'].Component);\n\nexports['default'] = WingBlank;\nWingBlank.defaultProps = {\n  prefixCls: 'am-wingblank',\n  size: 'lg'\n};\nmodule.exports = exports['default'];","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict';\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n\n    throw error;\n  }\n}\n\nmodule.exports = invariant;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ImagePicker } from 'antd-mobile';\r\nimport { request } from '../../request';\r\nimport api from '../../request/api';\r\nimport { fileaddress } from '../../request/baseURL';\r\n\r\nexport default class customImageUpload extends Component {\r\n\r\n    static propTypes = {\r\n        maxLength: PropTypes.number,\r\n        changeHandle: PropTypes.func,\r\n    }\r\n\r\n    static defaultProps = {\r\n        maxLength: 10,\r\n        changeHandle: function () { }\r\n    }\r\n\r\n    onChange = (fileList, type, index) => {\r\n        let { files, maxLength, changeHandle } = this.props,\r\n            len = fileList.length;\r\n        if (len > maxLength) return\r\n        if (type === 'add') {\r\n            let uploadRow = fileList[len - 1], formData = new FormData();\r\n            formData.append('file', uploadRow.file)\r\n            request({\r\n                url: api.fileUpload, data: formData,\r\n                config: {\r\n                    baseURL: fileaddress\r\n                }\r\n            }).then(res => {\r\n                changeHandle([\r\n                    ...this.props.files, // 获取已更新的 (onChange 的循环执行在同步执行栈 ajax,setState为异步任务在事件队列)\r\n                    { ...res, url: uploadRow.url, fileUrl: res.url }\r\n                ])\r\n            }).catch(err => { })\r\n        }\r\n        if (type === 'remove')\r\n            request({\r\n                url: api.fileDelete, data: { url: files[index].fileUrl },\r\n                config: {\r\n                    baseURL: fileaddress\r\n                }\r\n            }).then(res => {\r\n                let _files = [...this.props.files];  // 同上\r\n                _files.splice(index, 1);\r\n                changeHandle(_files)\r\n            }).catch(err => { })\r\n    }\r\n    render() {\r\n        return <ImagePicker\r\n            multiple\r\n            accept=\"image/*,video/*\"\r\n            {...this.props}\r\n            onChange={this.onChange}\r\n        />\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { createForm } from 'rc-form';\r\nimport { List, TextareaItem, Button, WingBlank, Toast } from 'antd-mobile';\r\nimport CustomWhiteSpace from '../../../component/customWhiteSpace';\r\nimport CustomImageUpload from '../../../component/customImageUpload';\r\nimport { request } from '../../../request';\r\nimport api from '../../../request/api';\r\nimport styles from './index.less';\r\n\r\nexport default createForm()(class suggestionFeedback extends Component {\r\n    state = {\r\n        imgList: [],\r\n        maxLength: 10,\r\n    }\r\n\r\n    saveFeedback = () => {\r\n        this.props.form.validateFields({ force: true }, (error, values) => {\r\n            if (!error) {\r\n                request({\r\n                    url: api.saveFeedback, data: { ...values, imgList: this.state.imgList.map(item => item.fileName) }\r\n                }).then(res => {\r\n                    Toast.success('提交成功!', 1)\r\n                    let timer = setTimeout(() => {\r\n                        clearTimeout(timer)\r\n                        timer = null\r\n                        this.props.history.goBack()\r\n                    }, 1000)\r\n                }).catch(err => { })\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { imgList, maxLength } = this.state,\r\n            len = imgList.length,\r\n            { getFieldProps } = this.props.form;\r\n        return (\r\n            <div className={styles.wrapper}>\r\n                <List>\r\n                    <TextareaItem\r\n                        {...getFieldProps('ffeedtext', {\r\n                            // initialValue: this.state.dpValue,\r\n                            rules: [\r\n                                { required: true, message: '请填写反馈内容' },\r\n                                // { validator: this.validateDatePicker },\r\n                            ],\r\n                        })}\r\n                        rows={5}\r\n                        count={100}\r\n                        placeholder='请输入反馈内容'\r\n                    />\r\n                </List>\r\n                <List renderHeader={() => <div className='titleFontSizeC'>拍照上传<span className='textFontSizeC shallowGreyColor'>{`（${len}/${maxLength}）`}</span></div>}>\r\n                    <List.Item>\r\n                        <CustomImageUpload\r\n                            maxLength={10}\r\n                            changeHandle={(val) => {\r\n                                this.setState({\r\n                                    imgList: val\r\n                                })\r\n                            }}\r\n                            selectable={len < maxLength}\r\n                            files={imgList}\r\n                        />\r\n                    </List.Item>\r\n                </List>\r\n                <CustomWhiteSpace />\r\n                <WingBlank><Button type='primary' onClick={e => {\r\n                    this.saveFeedback()\r\n                }}>提交</Button></WingBlank>\r\n            </div>\r\n        );\r\n    }\r\n})","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"index_wrapper__3g0AU\"};"],"sourceRoot":""}