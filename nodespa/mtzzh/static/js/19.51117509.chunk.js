(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{542:function(e,t,a){"use strict";var n=a(526),o=a(2),r=a.n(o);t.a=function(e){var t=Object(n.a)({},e).message,a=void 0===t?"\u65e0\u7ed3\u679c":t;return r.a.createElement("div",{className:"normalFontSizeC shallowGreyColor",style:{textAlign:"center"}},a)}},568:function(e,t,a){"use strict";a(231);var n,o,r=a(115),c=a.n(r),i=a(85),s=a(86),l=a(88),d=a(87),u=a(89),p=a(2),h=a.n(p),m=a(91),f=a(76),g=a(38),w=a(66),_=a(51),v=a(569),b=a.n(v);t.a=Object(m.b)()((o=n=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).onRowClick=function(){a.props.dispatch(Object(f.c)(g.a+"/moreCase/case",a.props.rowData))},a.onLikes=function(e){e.stopPropagation();var t=a.props,n=t.rowData,o=t.updateCurrentItem;Object(w.a)({url:_.a.saveLikes,data:{id:n.id,status:1}}).then(function(e){c.a.success(e,.7),o("likes",n.index)}).catch(function(e){})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.rowData,a=e.style,n=void 0===a?null:a,o=e.className,r=void 0===o?null:o;return h.a.createElement("div",{className:"".concat(b.a.wrapper," ").concat(r),style:n,onClick:this.onRowClick},h.a.createElement("img",{src:t.imgUrl,alt:t.imgUrl}),h.a.createElement("div",{className:b.a.wrapper_content},h.a.createElement("p",{className:b.a.wrapper_content_title},t.title),h.a.createElement("p",{className:b.a.wrapper_content_des},t.des),h.a.createElement("ul",{className:b.a.wrapper_content_footer},h.a.createElement("li",null,h.a.createElement("i",{className:"iconfont icon-chakan"}),t.views),h.a.createElement("li",null,h.a.createElement("i",{className:"iconfont icon-xiaoxi"}),t.comments),h.a.createElement("li",{onClick:this.onLikes},h.a.createElement("i",{className:"iconfont icon-i-good"}),t.likes))))}}]),t}(p.Component),n.defaultProps={likeClick:function(){},rowData:{},updateCurrentItem:function(){}},o))},569:function(e,t,a){e.exports={wrapper:"index_wrapper__3DJ7H",wrapper_content:"index_wrapper_content__Y1ZN0",wrapper_content_title:"index_wrapper_content_title__1duEk",wrapper_content_des:"index_wrapper_content_des__eseFn",wrapper_content_footer:"index_wrapper_content_footer__1DxxL"}},761:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return P});a(556);var n=a(557),o=a.n(n),r=(a(762),a(765)),c=a.n(r),i=(a(527),a(529)),s=a.n(i),l=(a(552),a(553)),d=a.n(l),u=a(90),p=(a(231),a(115)),h=a.n(p),m=a(541),f=a(85),g=a(86),w=a(88),_=a(87),v=a(89),b=(a(561),a(562)),k=a.n(b),E=a(2),C=a.n(E),x=a(32),j=a.n(x),O=a(542),y=a(568),N=a(66),S=a(51),L=a(159),R=a(766),B=a.n(R),D=k.a.alert,P=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(w.a)(this,Object(_.a)(t).call(this,e))).getCaseList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageNo,n=void 0===t?a.state.pageNo:t,o=e.keyword,r=void 0===o?a.state.keyword:o,c=e.dataBlobs,i=void 0===c?a.state.dataBlobs:c,s=a.state,l=s.pageSize,d=s.dataSource;a.setState({isLoading:!0,keyword:r}),Object(N.a)({url:S.a.caseCollectList,data:{pageNo:n,pageSize:l,keyword:r}}).then(function(e){var t=e.list,n=e.pageTurn,o=n.nextPage,r=n.rowCount,c=Object(m.a)(i).concat(Object(m.a)(t));a.setState({hasMore:!(c.length>=r),pageNo:o,dataBlobs:c,dataSource:d.cloneWithRows(c),isLoading:!1})}).catch(function(e){a.setState({isLoading:!1})})},a.onEndReached=function(e){var t=a.state,n=t.isLoading,o=t.hasMore;!n&&o&&a.getCaseList()},a.updateList=function(){var e=a.state,t=e.dataBlobs,n=e.dataSource,o=e.keyword,r=t.length;Object(N.a)({url:S.a.caseCollectList,data:{pageNo:1,pageSize:r,keyword:o}}).then(function(e){var t=e.list,o=e.pageTurn.rowCount;a.setState({hasMore:!(t.length>=o),dataBlobs:t,dataSource:n.cloneWithRows(t)})}).catch(function(e){})},a.del=function(e){Object(N.a)({url:S.a.saveCollects,data:{id:e.id,status:0}}).then(function(e){h.a.success(e,.7),a.updateList()}).catch(function(e){})},a.updateCurrentItem=function(e,t){if(e){var n=a.state,o=n.dataBlobs,r=n.dataSource,c=Object(m.a)(o),i=Object(u.a)({},c[t]);i[e]++,c.splice(t,1,i),a.setState({dataBlobs:c,dataSource:r.cloneWithRows(c)})}},a.state={pageNo:1,pageSize:10,hasMore:!0,dataBlobs:[],dataSource:new d.a.DataSource({rowHasChanged:function(e,t){return e!==t}}),isLoading:!1,height:0,keyword:""},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=document.documentElement.clientHeight-j.a.findDOMNode(this.lv).getBoundingClientRect().top;this.setState({height:e}),this.getCaseList()}},{key:"render",value:function(){var e=this,t=this.state,a=t.height,n=t.dataBlobs,r=t.dataSource,i=t.isLoading;return C.a.createElement("div",{className:"bg_grey_list_view"},C.a.createElement(d.a,{ref:function(t){return e.lv=t},dataSource:r,renderHeader:function(){return n.length?null:C.a.createElement(O.a,null)},renderRow:function(t,a,n){return t.index=n,t.des=t.styleName,t.imgUrl=L.d+t.surfacePlotUrl,C.a.createElement(c.a,{key:t.id,style:{marginBottom:10},right:[{text:"\u5220\u9664",onPress:function(a){D("\u63d0\u793a","\u786e\u8ba4\u5220\u9664?",[{text:"\u53d6\u6d88",onPress:function(){}},{text:"\u786e\u8ba4",onPress:e.del.bind(e,t)}])},className:B.a.del}]},C.a.createElement(s.a.Item,null,C.a.createElement(y.a,{rowData:t,updateCurrentItem:e.updateCurrentItem})))},style:{height:a},onEndReached:this.onEndReached,onEndReachedThreshold:10,pullToRefresh:C.a.createElement(o.a,{refreshing:i,direction:"down",distanceToRefresh:40,onRefresh:this.updateList})}))}}]),t}(E.Component)},766:function(e,t,a){e.exports={del:"index_del__31dX-",product:"index_product__czj5P",extra:"index_extra__3YdRa"}}}]);
//# sourceMappingURL=19.51117509.chunk.js.map