(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{541:function(e,t,a){"use strict";var n=a(530),r=a(2),o=a.n(r);t.a=function(e){var t=Object(n.a)({},e).message,a=void 0===t?"\u65e0\u7ed3\u679c":t;return o.a.createElement("div",{className:"normalFontSizeC shallowGreyColor",style:{textAlign:"center"}},a)}},584:function(e,t,a){"use strict";a.d(t,"a",function(){return _});a(232);var n=a(116),r=a.n(n),o=a(85),c=a(86),i=a(88),s=a(87),l=a(89),u=a(2),d=a.n(u),p=a(53),h=a(47),m=a(162),f=a(585),w=a.n(f),_=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).onLikes=function(e){e.stopPropagation();var t=a.props,n=t.rowData,o=t.updateCurrentItem;Object(p.a)({url:h.a.saveLikes,data:{id:n.id,status:1}}).then(function(e){r.a.success(e,.7),o("likes",n.index)}).catch(function(e){})},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.rowData,a=e.style,n=void 0===a?null:a,r=e.className,o=void 0===r?null:r,c=e.rowClick,i=t.surfacePlotUrl,s=t.title,l=t.styleName,u=t.views,p=t.comments,h=t.likes;return d.a.createElement("div",{className:"".concat(w.a.wrapper," ").concat(o),style:n,onClick:c},d.a.createElement("img",{src:m.d+i,alt:s}),d.a.createElement("div",{className:w.a.wrapper_content},d.a.createElement("p",{className:w.a.wrapper_content_title},s),d.a.createElement("p",{className:w.a.wrapper_content_des},l),d.a.createElement("ul",{className:w.a.wrapper_content_footer},d.a.createElement("li",null,d.a.createElement("i",{className:"iconfont icon-chakan"}),u),d.a.createElement("li",null,d.a.createElement("i",{className:"iconfont icon-xiaoxi"}),p),d.a.createElement("li",{onClick:this.onLikes},d.a.createElement("i",{className:"iconfont icon-i-good"}),h))))}}]),t}(u.Component);_.defaultProps={rowClick:function(){},rowData:{},updateCurrentItem:function(){}}},585:function(e,t,a){e.exports={wrapper:"index_wrapper__3DJ7H",wrapper_content:"index_wrapper_content__Y1ZN0",wrapper_content_title:"index_wrapper_content_title__1duEk",wrapper_content_des:"index_wrapper_content_des__eseFn",wrapper_content_footer:"index_wrapper_content_footer__1DxxL"}},775:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return z});a(571);var n=a(572),r=a.n(n),o=(a(776),a(779)),c=a.n(o),i=(a(527),a(532)),s=a.n(i),l=(a(552),a(553)),u=a.n(l),d=a(90),p=(a(232),a(116)),h=a.n(p),m=a(540),f=a(85),w=a(86),_=a(88),g=a(87),v=a(89),b=(a(573),a(574)),E=a.n(b),k=a(2),C=a.n(k),x=a(33),y=a.n(x),N=a(247),j=a(541),O=a(584),S=a(41),L=a(53),R=a(47),B=a(780),D=a.n(B),P=Object(S.a)(function(){return Promise.all([a.e(0),a.e(2),a.e(6),a.e(9),a.e(40)]).then(a.bind(null,93))}),I=E.a.alert,z=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(_.a)(this,Object(g.a)(t).call(this,e))).getCaseList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageNo,n=void 0===t?a.state.pageNo:t,r=e.keyword,o=void 0===r?a.state.keyword:r,c=e.dataBlobs,i=void 0===c?a.state.dataBlobs:c,s=a.state,l=s.pageSize,u=s.dataSource;a.setState({isLoading:!0,keyword:o}),Object(L.a)({url:R.a.caseCollectList,data:{pageNo:n,pageSize:l,keyword:o}}).then(function(e){var t=e.list,n=e.pageTurn,r=n.nextPage,o=n.rowCount,c=Object(m.a)(i).concat(Object(m.a)(t));a.setState({hasMore:!(c.length>=o),pageNo:r,dataBlobs:c,dataSource:u.cloneWithRows(c),isLoading:!1})}).catch(function(e){a.setState({isLoading:!1})})},a.onEndReached=function(e){var t=a.state,n=t.isLoading,r=t.hasMore;!n&&r&&a.getCaseList()},a.updateList=function(){var e=a.state,t=e.dataBlobs,n=e.dataSource,r=e.keyword,o=t.length;Object(L.a)({url:R.a.caseCollectList,data:{pageNo:1,pageSize:o,keyword:r}}).then(function(e){var t=e.list,r=e.pageTurn.rowCount;a.setState({hasMore:!(t.length>=r),dataBlobs:t,dataSource:n.cloneWithRows(t)})}).catch(function(e){})},a.del=function(e){Object(L.a)({url:R.a.saveCollects,data:{id:e.id,status:0}}).then(function(e){h.a.success(e,.7),a.updateList()}).catch(function(e){})},a.updateCurrentItem=function(e,t){if(e){var n=a.state,r=n.dataBlobs,o=n.dataSource,c=Object(m.a)(r),i=Object(d.a)({},c[t]);i[e]++,c.splice(t,1,i),a.setState({dataBlobs:c,dataSource:o.cloneWithRows(c)})}},a.state={pageNo:1,pageSize:10,hasMore:!0,dataBlobs:[],dataSource:new u.a.DataSource({rowHasChanged:function(e,t){return e!==t}}),isLoading:!1,height:0,keyword:""},a}return Object(v.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=document.documentElement.clientHeight-y.a.findDOMNode(this.lv).getBoundingClientRect().top;this.setState({height:e}),this.getCaseList()}},{key:"render",value:function(){var e=this,t=this.state,a=t.height,n=t.dataBlobs,o=t.dataSource,i=t.isLoading,l=this.props,d=l.match,p=l.history;return C.a.createElement("div",{className:"bg_grey_list_view"},C.a.createElement(u.a,{ref:function(t){return e.lv=t},dataSource:o,renderHeader:function(){return n.length?null:C.a.createElement(j.a,null)},renderRow:function(t,a,n){var r=t.id,o=t.surfacePlotUrl,i=t.title,l=t.styleName,u=t.views,h=t.comments,m=t.likes;return C.a.createElement(c.a,{key:r,style:{marginBottom:10},right:[{text:"\u5220\u9664",onPress:function(a){I("\u63d0\u793a","\u786e\u8ba4\u5220\u9664?",[{text:"\u53d6\u6d88",onPress:function(){}},{text:"\u786e\u8ba4",onPress:e.del.bind(e,t)}])},className:D.a.del}]},C.a.createElement(s.a.Item,null,C.a.createElement(O.a,{rowClick:function(){p.push({pathname:d.path+"/caseDetail",state:{id:r,index:n}})},rowData:{index:n,id:r,surfacePlotUrl:o,title:i,styleName:l,views:u,comments:h,likes:m},updateCurrentItem:e.updateCurrentItem})))},style:{height:a},onEndReached:this.onEndReached,onEndReachedThreshold:10,pullToRefresh:C.a.createElement(r.a,{refreshing:i,direction:"down",distanceToRefresh:40,onRefresh:this.updateList})}),C.a.createElement(N.a,{path:d.path+"/caseDetail",render:function(t){return C.a.createElement(P,Object.assign({},t,{updateCurrentItem:e.updateCurrentItem}))}}))}}]),t}(k.Component)},780:function(e,t,a){e.exports={del:"index_del__31dX-",product:"index_product__czj5P",extra:"index_extra__3YdRa"}}}]);
//# sourceMappingURL=22.3f0ef030.chunk.js.map