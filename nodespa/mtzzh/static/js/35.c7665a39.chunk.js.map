{"version":3,"sources":["component/customWhiteSpace/index.js","component/customWhiteSpace/index.less","component/infoList/index.js","component/infoList/index.less","view/moreCase/common/detailCarousel.js","component/fullScreen/index.js","component/fullScreen/index.less","component/typeIn/index.less","component/evaluate/index.less","component/evaluate/bar.less","view/moreCase/caseComponent/detail.less","component/typeIn/index.js","component/evaluate/index.js","component/evaluate/bar.js","view/moreCase/caseComponent/detail.js"],"names":["__webpack_exports__","_ref","props","Object","E_mtzzh_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__","_props$className","className","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","antd_mobile_lib_white_space__WEBPACK_IMPORTED_MODULE_1___default","assign","size","concat","styles","wrapper","module","exports","infoList","_this$props","this","data","_this$props$className","_this$props$style","style","react__WEBPACK_IMPORTED_MODULE_5___default","map","item","width","span","key","label","value","React","Component","defaultProps","dotStyle","height","borderRadius","detailCarousel","source","react__WEBPACK_IMPORTED_MODULE_7___default","antd_mobile_lib_carousel__WEBPACK_IMPORTED_MODULE_1___default","autoplay","infinite","dotActiveStyle","val","src","alt","onLoad","window","dispatchEvent","Event","WrappedComponent","_class","_temp","_Component","_getPrototypeOf2","_this","E_mtzzh_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_len","arguments","length","args","Array","_key","E_mtzzh_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","E_mtzzh_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","apply","renderModal","ReactDOM","render","modal","E_mtzzh_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","E_mtzzh_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","document","body","appendChild","unmountComponentAtNode","removeChild","displayName","getDisplayName","wrapper_box","wrapper_box_input","wrapper_box_operate","item_header_title","item_header_avatar","item_header_reply","item_body_box","tip","wrapper_left","wrapper_right","wrapper_body","wrapper_body_title","wrapper_body_info","wrapper_body_info_des","alert","createForm","typeIn","classCallCheck","possibleConstructorReturn","getPrototypeOf","send","form","onSend","validateFields","error","values","text","onPress","content","inherits","createClass","_this$props2","visible","onClose","config","getFieldProps","react_default","onClick","e","stopPropagation","textarea_item_default","autoFocus","rules","required","rows","count","evaluate","state","pageNo","pageSize","hasMore","commentListBlobs","commentListSource","list_view_default","DataSource","rowHasChanged","row1","row2","isLoading","getCommentList","_this$state","caseId","setState","request","url","api","pageCommentList","then","res","list","pageTurn","nextPage","rowCount","_commentListBlobs","toConsumableArray","cloneWithRows","catch","err","saveComment","info","userInfo","onSave","toast_default","success","_this$state2","createTime","Date","getTime","creator","id","replyList","timeString","saveCommentReply","replyItemInfo","commentId","replyUserId","index","replyUser","_this$state3","now","currentRow","user","JSON","parse","stringify","onEndReached","event","_this$state4","_this2","_this$state5","card_default","full","Header","title","Body","dataSource","renderHeader","noResult","renderRow","sectionID","_item$userInfo","avatar","nickName","name","item_header","Number","thumb","imgAddress","extra","item_body","onEndReachedThreshold","src_component_typeIn","placeholder","bar","hide","detail","views","collects","likes","comments","connect","fullScreen","detail_temp","detail_class","caseDetail","getDetail","location","updateCurrentItem","_location$state","collect","status","saveCollects","flagLike","objectSpread","evaluateBar","_this$props3","_location$state2","_detail$effectImageUr","effectImageUrlList","remark","areaName","houseName","priceName","spaceName","styleName","bind","color","formatDate","customWhiteSpace","dangerouslySetInnerHTML","__html","overflow","evaluate_evaluate","ref","instance","bar_bar"],"mappings":"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","file":"static/js/35.c7665a39.chunk.js","sourcesContent":["import React from 'react';\r\nimport { WhiteSpace } from 'antd-mobile';\r\nimport styles from './index.less';\r\n\r\nexport default ({ ...props }) => {\r\n    const { className = null } = props;\r\n    return <WhiteSpace size='lg' {...props} className={className ? `${styles.wrapper} ${className}` : styles.wrapper} />\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"index_wrapper__g-gQ9\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './index.less';\r\n\r\nexport default class infoList extends React.Component {\r\n\r\n    static propTypes = {\r\n        data: PropTypes.arrayOf(PropTypes.object)\r\n    }\r\n\r\n    static defaultProps = {\r\n        data: [] // [{label, value, span: 同antd 栅格}]\r\n    }\r\n    render() {\r\n        const { data, className = null, style = null } = this.props;\r\n        return (<ul className={className ? `${styles.infoList} ${className}` : styles.infoList} style={style}>\r\n            {data.map(item => <li\r\n                style={{ width: item.span ? `${item.span / 24 * 100}%` : null }}\r\n                key={item.label}\r\n            >\r\n                <div className={styles.item}>\r\n                    <span className={styles.label}>{item.label}</span><span className={styles.value}>{item.value}</span>\r\n                </div>\r\n            </li>\r\n            )}\r\n        </ul>)\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"infoList\":\"index_infoList__1pE5V\",\"item\":\"index_item__3odt1\",\"label\":\"index_label__2B1XT\",\"value\":\"index_value__1Oi2M\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Carousel } from 'antd-mobile';\r\nconst dotStyle = {\r\n    width: '24px', height: '4px', borderRadius: 'unset'\r\n}\r\n\r\nexport default class detailCarousel extends Component {\r\n    static propTypes = {\r\n        source: PropTypes.array,\r\n    }\r\n\r\n    static defaultProps = {\r\n        source: []\r\n    }\r\n    render() {\r\n        const { source } = this.props;\r\n        return <Carousel\r\n            autoplay={false}\r\n            infinite\r\n            dotStyle={dotStyle}\r\n            dotActiveStyle={dotStyle}\r\n            className='carousel_common'\r\n        >\r\n            {source.map(val => (\r\n                <span\r\n                    key={val}\r\n                    className='carousel_common_item'\r\n                >\r\n                    <img\r\n                        src={val}\r\n                        alt=\"\"\r\n                        onLoad={() => {\r\n                            // fire window resize event to change height\r\n                            window.dispatchEvent(new Event('resize'));\r\n                        }}\r\n                    />\r\n                </span>\r\n            ))}\r\n        </Carousel>\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { getDisplayName } from '../../utlis';\r\nimport styles from './index.less';\r\n\r\nexport default WrappedComponent => class extends Component { // 父级有transform属性下使用\r\n\r\n    static displayName = `HOC${getDisplayName(WrappedComponent)}`;\r\n\r\n    componentDidMount() {\r\n        this.modal = document.createElement('div');\r\n        document.body.appendChild(this.modal);\r\n        this.renderModal()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        ReactDOM.unmountComponentAtNode(this.modal)\r\n        document.body.removeChild(this.modal)\r\n    }\r\n\r\n    renderModal = () => {\r\n        ReactDOM.render(\r\n            <div className={styles.wrapper}>\r\n                <WrappedComponent {...this.props} />\r\n            </div>,\r\n            this.modal\r\n        )\r\n    }\r\n    render() {\r\n        return null\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"index_wrapper__3gBVK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"index_wrapper__37Eiu\",\"wrapper_box\":\"index_wrapper_box__GJA8v\",\"wrapper_box_input\":\"index_wrapper_box_input__3k-MO\",\"wrapper_box_operate\":\"index_wrapper_box_operate__ITX6G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item_header_title\":\"index_item_header_title__3X4HC\",\"item_header_avatar\":\"index_item_header_avatar__3GgtM\",\"item_header_reply\":\"index_item_header_reply__hKWTg\",\"item_body_box\":\"index_item_body_box__3b55Z\",\"tip\":\"index_tip__1Pu6l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"bar_wrapper__lzYrw\",\"wrapper_left\":\"bar_wrapper_left__3MQ6Y\",\"wrapper_right\":\"bar_wrapper_right__1qtMP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"detail_wrapper__1Jtzh\",\"wrapper_body\":\"detail_wrapper_body__3aNvC\",\"wrapper_body_title\":\"detail_wrapper_body_title__2A3rt\",\"wrapper_body_info\":\"detail_wrapper_body_info__3Cwno\",\"wrapper_body_info_des\":\"detail_wrapper_body_info_des__3EeRq\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { TextareaItem, Modal } from 'antd-mobile';\r\nimport { createForm } from 'rc-form';\r\nimport styles from './index.less';\r\nconst { alert } = Modal;\r\n\r\nexport default createForm()(class typeIn extends Component {\r\n    static propTypes = {\r\n        visible: PropTypes.bool,\r\n        onClose: PropTypes.func,\r\n        onSend: PropTypes.func,\r\n        config: PropTypes.object, // 支持传入 TextareaItem 可用参数\r\n    }\r\n    static defaultProps = {\r\n        visible: false,\r\n        onClose: function () { },\r\n        onSend: function () { },\r\n        config: {},\r\n    }\r\n    send = () => {\r\n        const { form, onSend } = this.props;\r\n        form.validateFields((error, values) => {\r\n            if (!error) {\r\n                alert('提示', '确认发送?', [\r\n                    { text: '取消' },\r\n                    {\r\n                        text: '确认', onPress: () => { onSend(values.content) }\r\n                    }\r\n                ])\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        const { form, visible, onClose, config } = this.props,\r\n            { getFieldProps } = form;\r\n        return (visible ? <div className={styles.wrapper} onClick={e => { e.stopPropagation(); onClose() }}>\r\n            <div className={styles.wrapper_box} onClick={e => { e.stopPropagation() }}>\r\n                <TextareaItem\r\n                    className={styles.wrapper_box_input}\r\n                    autoFocus\r\n                    {...getFieldProps('content', {\r\n                        rules: [\r\n                            { required: true },\r\n                        ]\r\n                    })}\r\n                    rows={3}\r\n                    count={100}\r\n                    {...config}\r\n                />\r\n                <div onClick={this.send} className={styles.wrapper_box_operate}>发送</div>\r\n            </div>\r\n        </div> : null)\r\n    }\r\n})","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Card, ListView, Toast } from 'antd-mobile';\r\nimport TypeIn from '../typeIn';\r\nimport NoResult from '../noResult';\r\nimport { request } from '../../request';\r\nimport api from '../../request/api';\r\nimport { imgAddress } from '../../request/baseURL';\r\nimport styles from './index.less';\r\n\r\nexport default class evaluate extends Component {\r\n    state = {\r\n        pageNo: 1,\r\n        pageSize: 10,\r\n        hasMore: true,\r\n        commentListBlobs: [],\r\n        commentListSource: new ListView.DataSource({\r\n            rowHasChanged: (row1, row2) => row1 !== row2\r\n        }),\r\n        isLoading: false,\r\n        height: 0,\r\n\r\n        visible: false, // 回复是否显示\r\n    }\r\n\r\n    static propTypes = {\r\n        userInfo: PropTypes.object,\r\n        caseId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]), // 案例id\r\n        onSave: PropTypes.func, // 评价保存成功后执行\r\n    }\r\n\r\n    static defaultProps = {\r\n        userInfo: {},\r\n        caseId: '',\r\n        onSave: function () { }\r\n    }\r\n\r\n    getCommentList = () => { // 获取评论列表\r\n        const { pageNo, pageSize, commentListBlobs, commentListSource } = this.state,\r\n            { caseId } = this.props;\r\n        if (!caseId) return\r\n        this.setState({ isLoading: true })\r\n        request({ url: api.pageCommentList, data: { caseId, pageNo, pageSize } }).then(res => {\r\n            const { list, pageTurn } = res,\r\n                { nextPage, rowCount } = pageTurn,\r\n                _commentListBlobs = [...commentListBlobs, ...list];\r\n            this.setState({\r\n                height: !_commentListBlobs.length ? 45 : _commentListBlobs.length === 1 ? 140 : 300,\r\n                commentListBlobs: _commentListBlobs,\r\n                hasMore: _commentListBlobs.length >= rowCount ? false : true,\r\n                pageNo: nextPage,\r\n                commentListSource: commentListSource.cloneWithRows(_commentListBlobs),\r\n                isLoading: false\r\n            })\r\n        }).catch(err => { this.setState({ isLoading: false }) })\r\n    }\r\n\r\n    saveComment = info => { // 保存评论\r\n        const { caseId, userInfo, onSave } = this.props;\r\n        request({ url: api.saveComment, data: { caseId, content: info } }).then(res => {\r\n            Toast.success('评价成功!', 0.7);\r\n            const { commentListBlobs, commentListSource } = this.state, _commentListBlobs = [\r\n                {\r\n                    content: info,\r\n                    createTime: new Date().getTime(),\r\n                    creator: \"mt_admin\",\r\n                    id: res,\r\n                    replyList: null,\r\n                    timeString: \"刚刚\",\r\n                    userInfo\r\n                },\r\n                ...commentListBlobs\r\n            ];\r\n            this.setState({\r\n                commentListBlobs: _commentListBlobs,\r\n                commentListSource: commentListSource.cloneWithRows(_commentListBlobs),\r\n            })\r\n            onSave()\r\n        }).catch(err => { })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getCommentList()\r\n    }\r\n\r\n    saveCommentReply = content => { // 保存评论回复\r\n        const { replyItemInfo } = this.state,\r\n            { commentId, replyUserId, index, replyUser } = replyItemInfo;\r\n        request({ url: api.saveCommentReply, data: { commentId, replyUserId, content } }).then(res => {\r\n            Toast.success('回复成功!', 0.7);\r\n            const { commentListBlobs, commentListSource } = this.state,\r\n                now = new Date().getTime(),\r\n                currentRow = commentListBlobs[index],\r\n                { replyList } = currentRow;\r\n            currentRow.replyList = replyList ? [...replyList, { id: now, replyUser, user: '管理员', content }] : [{ id: now, replyUser, user: '管理员', content }]\r\n            this.setState({\r\n                visible: false,\r\n                commentListSource: commentListSource.cloneWithRows(JSON.parse(JSON.stringify(commentListBlobs)))\r\n            })\r\n        }).catch(err => { })\r\n    }\r\n\r\n    onEndReached = (event) => {\r\n        const { isLoading, hasMore } = this.state;\r\n        if (isLoading || !hasMore)\r\n            return;\r\n        this.getCommentList()\r\n    }\r\n\r\n    render() {\r\n        const { commentListBlobs, commentListSource, height, visible } = this.state;\r\n        return (<Card full>\r\n            <Card.Header\r\n                title=\"评价\"\r\n            />\r\n            <Card.Body>\r\n                <ListView\r\n                    className='list_view_maybe_comon'\r\n                    dataSource={commentListSource}\r\n                    renderHeader={() => commentListBlobs.length ? null : <NoResult />}\r\n                    renderRow={(item, sectionID, index) => {\r\n                        const { userInfo = {} } = item,\r\n                            { avatar, nickName, name } = userInfo,\r\n                            replyList = item.replyList || [];\r\n                        return <Card key={item.id} full>\r\n                            <Card.Header\r\n                                className={styles.item_header}\r\n                                title={<ul className={styles.item_header_title}>\r\n                                    <li>{nickName || name}</li>\r\n                                    <li>{Number(index) + 1}楼 {item.timeString}</li>\r\n                                </ul>}\r\n                                thumb={<div className={styles.item_header_avatar}>{avatar ? <img src={imgAddress + avatar} alt='' /> : null}</div>}\r\n                                extra={<span\r\n                                    className={styles.item_header_reply}\r\n                                    onClick={e => {\r\n                                        this.setState({\r\n                                            visible: true,\r\n                                            replyItemInfo: {\r\n                                                commentId: item.id,\r\n                                                replyUserId: userInfo.id,\r\n                                                index,\r\n                                                replyUser: userInfo.nickName\r\n                                            }\r\n                                        })\r\n                                    }}>回复</span>}\r\n                            />\r\n                            <Card.Body className={styles.item_body}>\r\n                                <ul className={styles.item_body_box}>\r\n                                    <li>{item.content}</li>\r\n                                    <li>\r\n                                        <ul>\r\n                                            {replyList.map(val => <li key={val.id}>\r\n                                                <span className={styles.tip}>{val.user}</span >：<span className={styles.tip}>@{val.replyUser}</span> {val.content}\r\n                                            </li>)}\r\n                                        </ul>\r\n                                    </li>\r\n                                </ul>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    }}\r\n                    style={{\r\n                        height,\r\n                    }}\r\n                    onEndReached={this.onEndReached}\r\n                    onEndReachedThreshold={30}\r\n                />\r\n                <TypeIn\r\n                    visible={visible}\r\n                    onClose={() => { this.setState({ visible: false }) }}\r\n                    onSend={this.saveCommentReply}\r\n                    config={{\r\n                        placeholder: \"写回复\"\r\n                    }}\r\n                />\r\n            </Card.Body>\r\n        </Card>)\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TypeIn from '../typeIn';\r\nimport styles from './bar.less';\r\n\r\nexport default class bar extends Component {\r\n    state = {\r\n        visible: false\r\n    }\r\n    static propTypes = {\r\n        detail: PropTypes.object,\r\n        onSend: PropTypes.func\r\n    }\r\n    static defaultProps = {\r\n        detail: {},\r\n        onSend: function () { }\r\n    }\r\n    hide = () => {\r\n        this.setState({ visible: false })\r\n    }\r\n    render() {\r\n        const { visible } = this.state, { detail, onSend } = this.props,\r\n            { views, collects, likes, comments } = detail;\r\n        return (<div className={styles.wrapper}>\r\n            <div className={styles.wrapper_left} onClick={e => { this.setState({ visible: true }) }}>\r\n                不写点什么吗？\r\n                <TypeIn\r\n                    visible={visible}\r\n                    onClose={() => { this.setState({ visible: false }) }}\r\n                    onSend={onSend}\r\n                    config={{\r\n                        placeholder: \"写评论\"\r\n                    }}\r\n                />\r\n            </div>\r\n            <ul className={styles.wrapper_right}>\r\n                <li><i className='iconfont icon-chakan' />{views}</li>\r\n                <li><i className='iconfont icon-collect' />{collects}</li>\r\n                <li><i className='iconfont icon-i-good' />{likes}</li>\r\n                <li><i className='iconfont icon-xiaoxi' />{comments}</li>\r\n            </ul>\r\n        </div>)\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Card, Toast } from 'antd-mobile';\r\nimport InfoList from '../../../component/infoList';\r\nimport CustomWhiteSpace from '../../../component/customWhiteSpace';\r\nimport DetailCarousel from '../common/detailCarousel';\r\nimport fullScreen from '../../../component/fullScreen';\r\nimport Evaluate from '../../../component/evaluate';\r\nimport EvaluateBar from '../../../component/evaluate/bar';\r\nimport { request } from '../../../request';\r\nimport api from '../../../request/api';\r\nimport { imgAddress } from '../../../request/baseURL';\r\nimport styles from './detail.less';\r\nimport { formatDate } from '../../../utlis';\r\n\r\nexport default connect(state => ({\r\n    userInfo: state.userInfo\r\n}))(fullScreen(class caseDetail extends Component {\r\n    state = {\r\n        detail: {}\r\n    }\r\n\r\n    static propTypes = {\r\n        updateCurrentItem: PropTypes.func,\r\n    }\r\n    static defaultProps = {\r\n        updateCurrentItem: function () { }\r\n    }\r\n\r\n    getDetail = () => { // 获取案例详情\r\n        const { location, updateCurrentItem } = this.props,\r\n            { state = {} } = location,\r\n            { id } = state;\r\n        if (id)\r\n            request({ url: api.caseDetail, data: { id } }).then(res => {\r\n                this.setState({ detail: res });\r\n                // 更新查看数\r\n                updateCurrentItem('views', state.index)\r\n            }).catch(err => { })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getDetail()\r\n    }\r\n\r\n    collect = (id, status) => { // 收藏|取消收藏\r\n        request({ url: api.saveCollects, data: { id, status } }).then(res => {\r\n            Toast.success(res, 0.7)\r\n            const { detail } = this.state;\r\n            if (status === 1) {\r\n                ++detail.collects;\r\n                detail.flagLike = 1;\r\n            } else {\r\n                detail.collects--;\r\n                detail.flagLike = 0;\r\n            }\r\n            this.setState({ detail: { ...detail } })\r\n        }).catch(err => { })\r\n    }\r\n\r\n    onSave = () => { // 评价保存后\r\n        this.evaluateBar.hide();\r\n        const { detail } = this.state,\r\n            { location, updateCurrentItem } = this.props,\r\n            { state } = location;\r\n        detail.comments++;\r\n        this.setState({ detail: { ...detail } })\r\n        // 更新评价数\r\n        updateCurrentItem('comments', state.index)\r\n    }\r\n\r\n    onSend = info => { // 发送评价\r\n        this.evaluate.saveComment(info)\r\n    }\r\n\r\n    render() {\r\n        const { detail } = this.state,\r\n            { location, userInfo } = this.props,\r\n            { state = {} } = location,\r\n            { title, effectImageUrlList = [], remark, creator, createTime, content,\r\n                areaName, houseName, priceName, spaceName, styleName,\r\n                collects, comments, flagLike, likes, views,\r\n                // intents\r\n            } = detail;\r\n        return <div className={styles.wrapper}>\r\n            <div className={styles.wrapper_body}>\r\n                <DetailCarousel\r\n                    source={effectImageUrlList.map(item => imgAddress + item)}\r\n                />\r\n                <Card full>\r\n                    <Card.Header\r\n                        title={<div className={styles.wrapper_body_title}>\r\n                            <div>{title}</div>\r\n                            <div onClick={this.collect.bind(this, state.id, flagLike === 1 ? 0 : 1)} style={{ color: flagLike ? '#FFCC33' : null }}>\r\n                                <i className='iconfont icon-collect' />\r\n                                <div>{flagLike ? '取消收藏' : '收藏'}</div>\r\n                            </div>\r\n                        </div>}\r\n                    />\r\n                    <Card.Body>\r\n                        <div className={styles.wrapper_body_info}>\r\n                            <div className={styles.wrapper_body_info_des}>\r\n                                <ul>\r\n                                    <li>{creator}</li>\r\n                                    <li>{formatDate(new Date(createTime), 'YY-MM-DD')}</li>\r\n                                </ul>\r\n                                <div>{remark}</div>\r\n                            </div>\r\n                            <InfoList data={[\r\n                                { label: '面积', value: areaName, span: 12 },\r\n                                { label: '户型', value: houseName, span: 12 },\r\n                                { label: '价位', value: priceName, span: 12 },\r\n                                { label: '空间名称', value: spaceName, span: 12 },\r\n                                { label: '风格', value: styleName, span: 12 },\r\n                                // { label: '楼盘', value: <span>成都天语小区 <a href='/x'>同楼盘方案</a></span>, },\r\n                            ]} />\r\n                        </div>\r\n                    </Card.Body>\r\n                </Card>\r\n                <CustomWhiteSpace />\r\n                <Card full>\r\n                    <Card.Header\r\n                        title=\"详情\"\r\n                    />\r\n                    <Card.Body>\r\n                        <div dangerouslySetInnerHTML={{ __html: content }} style={{ overflow: 'auto' }} />\r\n                    </Card.Body>\r\n                </Card>\r\n                <CustomWhiteSpace />\r\n                <Evaluate\r\n                    ref={instance => this.evaluate = instance}\r\n                    userInfo={userInfo}\r\n                    caseId={state.id}\r\n                    onSave={this.onSave}\r\n                />\r\n            </div>\r\n            <EvaluateBar\r\n                ref={instance => this.evaluateBar = instance}\r\n                detail={{ collects, comments, likes, views }}\r\n                onSend={this.onSend}\r\n            />\r\n        </div>\r\n    }\r\n}))"],"sourceRoot":""}