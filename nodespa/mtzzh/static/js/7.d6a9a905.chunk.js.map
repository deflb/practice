{"version":3,"sources":["../node_modules/antd-mobile/lib/button/style/index.js","../node_modules/antd-mobile/lib/button/index.js","../node_modules/antd-mobile/lib/textarea-item/style/index.js","../node_modules/antd-mobile/lib/textarea-item/index.js","../node_modules/antd-mobile/lib/image-picker/style/index.js","../node_modules/antd-mobile/lib/image-picker/index.js"],"names":["__webpack_require__","Object","defineProperty","exports","value","_extends3","_interopRequireDefault","_defineProperty3","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames3","_react2","_rmcFeedback2","_icon2","obj","__esModule","default","__rest","s","e","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","rxTwoCNChar","isTwoCNChar","test","bind","isString","str","insertSpace","child","type","props","children","cloneElement","split","join","createElement","Button","_React$Component","this","__proto__","getPrototypeOf","apply","arguments","key","_classnames","_a","className","prefixCls","size","inline","disabled","icon","loading","activeStyle","activeClassName","onClick","restProps","iconType","wrapCls","kids","Children","map","iconEl","aria-hidden","rawCls","cls","undefined","role","aria-disabled","Component","defaultProps","module","_classnames4","_exenv","noop","regexAstralSymbols","TextareaItem","_this","focus","textareaRef","reAlignHeight","textareaDom","style","height","scrollHeight","onChange","target","setState","componentDidUpdate","onBlur","debounceTimeout","setTimeout","document","activeElement","currentTarget","onFocus","clearTimeout","onErrorClick","clearInput","state","defaultValue","nextProps","autoHeight","_classnames2","_this2","prefixListCls","editable","clear","error","count","labelNumber","title","otherProps","_state","hasCount","rows","labelCls","characterLength","replace","countSymbols","lengthCtrlProps","IS_IOS","entValue","entLen","maxLength","ref","el","readOnly","placeholder","_flex2","ImagePicker","getOrientation","file","callback","reader","FileReader","onload","view","DataView","result","getUint16","byteLength","offset","marker","getUint32","little","tags","readAsArrayBuffer","slice","getRotation","imgRotation","removeImage","index","newImages","_this$props$files","files","forEach","image","idx","push","addImage","imgItem","_this$props$files2","concat","onImageClick","onFileChange","fileSelectorEl","fileSelectorInput","parseFile","dataURL","orientation","res","url","onFail","readAsDataURL","_props","_props$files","selectable","onAddImageClick","multiple","accept","imgItemList","parseInt","imgStyle","backgroundImage","transform","Item","aria-label","selectEl","input","allEl","blankCount","fillBlankEl","flexEl","_i","rowEl","renderEl","item"],"mappings":"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","file":"static/js/7.d6a9a905.chunk.js","sourcesContent":["'use strict';\n\nrequire('../../style/');\n\nrequire('../../icon/style/');\n\nrequire('./index.less');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames2 = require('classnames');\n\nvar _classnames3 = _interopRequireDefault(_classnames2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _icon = require('../icon');\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar rxTwoCNChar = /^[\\u4e00-\\u9fa5]{2}$/;\nvar isTwoCNChar = rxTwoCNChar.test.bind(rxTwoCNChar);\n\nfunction isString(str) {\n  return typeof str === 'string';\n} // Insert one space between two chinese characters automatically.\n\n\nfunction insertSpace(child) {\n  if (isString(child.type) && isTwoCNChar(child.props.children)) {\n    return _react2['default'].cloneElement(child, {}, child.props.children.split('').join(' '));\n  }\n\n  if (isString(child)) {\n    if (isTwoCNChar(child)) {\n      child = child.split('').join(' ');\n    }\n\n    return _react2['default'].createElement('span', null, child);\n  }\n\n  return child;\n}\n\nvar Button = function (_React$Component) {\n  (0, _inherits3['default'])(Button, _React$Component);\n\n  function Button() {\n    (0, _classCallCheck3['default'])(this, Button);\n    return (0, _possibleConstructorReturn3['default'])(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));\n  }\n\n  (0, _createClass3['default'])(Button, [{\n    key: 'render',\n    value: function render() {\n      var _classnames;\n\n      var _a = this.props,\n          children = _a.children,\n          className = _a.className,\n          prefixCls = _a.prefixCls,\n          type = _a.type,\n          size = _a.size,\n          inline = _a.inline,\n          disabled = _a.disabled,\n          icon = _a.icon,\n          loading = _a.loading,\n          activeStyle = _a.activeStyle,\n          activeClassName = _a.activeClassName,\n          onClick = _a.onClick,\n          restProps = __rest(_a, [\"children\", \"className\", \"prefixCls\", \"type\", \"size\", \"inline\", \"disabled\", \"icon\", \"loading\", \"activeStyle\", \"activeClassName\", \"onClick\"]);\n\n      var iconType = loading ? 'loading' : icon;\n      var wrapCls = (0, _classnames3['default'])(prefixCls, className, (_classnames = {}, (0, _defineProperty3['default'])(_classnames, prefixCls + '-primary', type === 'primary'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-ghost', type === 'ghost'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-warning', type === 'warning'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-small', size === 'small'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-inline', inline), (0, _defineProperty3['default'])(_classnames, prefixCls + '-disabled', disabled), (0, _defineProperty3['default'])(_classnames, prefixCls + '-loading', loading), (0, _defineProperty3['default'])(_classnames, prefixCls + '-icon', !!iconType), _classnames));\n\n      var kids = _react2['default'].Children.map(children, insertSpace);\n\n      var iconEl = void 0;\n\n      if (typeof iconType === 'string') {\n        iconEl = _react2['default'].createElement(_icon2['default'], {\n          'aria-hidden': 'true',\n          type: iconType,\n          size: size === 'small' ? 'xxs' : 'md',\n          className: prefixCls + '-icon'\n        });\n      } else if (iconType) {\n        var rawCls = iconType.props && iconType.props.className;\n        var cls = (0, _classnames3['default'])('am-icon', prefixCls + '-icon', size === 'small' ? 'am-icon-xxs' : 'am-icon-md');\n        iconEl = _react2['default'].cloneElement(iconType, {\n          className: rawCls ? rawCls + ' ' + cls : cls\n        });\n      } // use div, button native is buggy @yiminghe\n\n\n      return _react2['default'].createElement(_rmcFeedback2['default'] // tslint:disable-next-line:jsx-no-multiline-js\n      , {\n        activeClassName: activeClassName || (activeStyle ? prefixCls + '-active' : undefined),\n        disabled: disabled,\n        activeStyle: activeStyle\n      }, _react2['default'].createElement('a', (0, _extends3['default'])({\n        role: 'button',\n        className: wrapCls\n      }, restProps, {\n        onClick: disabled ? undefined : onClick,\n        'aria-disabled': disabled\n      }), iconEl, kids));\n    }\n  }]);\n  return Button;\n}(_react2['default'].Component);\n\nButton.defaultProps = {\n  prefixCls: 'am-button',\n  size: 'large',\n  inline: false,\n  disabled: false,\n  loading: false,\n  activeStyle: {}\n};\nexports['default'] = Button;\nmodule.exports = exports['default'];","'use strict';\n\nrequire('../../style/');\n\nrequire('../../list/style/');\n\nrequire('./index.less');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames3 = require('classnames');\n\nvar _classnames4 = _interopRequireDefault(_classnames3);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _exenv = require('../_util/exenv');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/* tslint:disable:jsx-no-multiline-js */\n\n\nfunction noop() {}\n\nfunction fixControlledValue(value) {\n  if (typeof value === 'undefined' || value === null) {\n    return '';\n  }\n\n  return value;\n}\n\nvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|\\n/g;\n\nfunction countSymbols() {\n  var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return text.replace(regexAstralSymbols, '_').length;\n}\n\nvar TextareaItem = function (_React$Component) {\n  (0, _inherits3['default'])(TextareaItem, _React$Component);\n\n  function TextareaItem(props) {\n    (0, _classCallCheck3['default'])(this, TextareaItem);\n\n    var _this = (0, _possibleConstructorReturn3['default'])(this, (TextareaItem.__proto__ || Object.getPrototypeOf(TextareaItem)).call(this, props));\n\n    _this.focus = function () {\n      _this.textareaRef.focus();\n    };\n\n    _this.reAlignHeight = function () {\n      var textareaDom = _this.textareaRef;\n      textareaDom.style.height = ''; // 字数减少时能自动减小高度\n\n      textareaDom.style.height = textareaDom.scrollHeight + 'px';\n    };\n\n    _this.onChange = function (e) {\n      var value = e.target.value;\n\n      if ('value' in _this.props) {\n        _this.setState({\n          value: _this.props.value\n        });\n      } else {\n        _this.setState({\n          value: value\n        });\n      }\n\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        onChange(value);\n      } // 设置 defaultValue 时，用户输入不会触发 componentDidUpdate ，此处手工调用\n\n\n      _this.componentDidUpdate();\n    };\n\n    _this.onBlur = function (e) {\n      _this.debounceTimeout = setTimeout(function () {\n        if (document.activeElement !== _this.textareaRef) {\n          _this.setState({\n            focus: false\n          });\n        }\n      }, 100);\n      var value = e.currentTarget.value;\n\n      if (_this.props.onBlur) {\n        _this.props.onBlur(value);\n      }\n    };\n\n    _this.onFocus = function (e) {\n      if (_this.debounceTimeout) {\n        clearTimeout(_this.debounceTimeout);\n        _this.debounceTimeout = null;\n      }\n\n      _this.setState({\n        focus: true\n      });\n\n      var value = e.currentTarget.value;\n\n      if (_this.props.onFocus) {\n        _this.props.onFocus(value);\n      }\n    };\n\n    _this.onErrorClick = function () {\n      if (_this.props.onErrorClick) {\n        _this.props.onErrorClick();\n      }\n    };\n\n    _this.clearInput = function () {\n      _this.setState({\n        value: ''\n      });\n\n      if (_this.props.onChange) {\n        _this.props.onChange('');\n      }\n    };\n\n    _this.state = {\n      focus: false,\n      value: props.value || props.defaultValue || ''\n    };\n    return _this;\n  }\n\n  (0, _createClass3['default'])(TextareaItem, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ('value' in nextProps) {\n        this.setState({\n          value: fixControlledValue(nextProps.value)\n        });\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.props.autoHeight) {\n        this.reAlignHeight();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.autoHeight && this.state.focus) {\n        this.reAlignHeight();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.debounceTimeout) {\n        clearTimeout(this.debounceTimeout);\n        this.debounceTimeout = null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classnames,\n          _classnames2,\n          _this2 = this;\n\n      var _a = this.props,\n          prefixCls = _a.prefixCls,\n          prefixListCls = _a.prefixListCls,\n          editable = _a.editable,\n          style = _a.style,\n          clear = _a.clear,\n          children = _a.children,\n          error = _a.error,\n          className = _a.className,\n          count = _a.count,\n          labelNumber = _a.labelNumber,\n          title = _a.title,\n          onErrorClick = _a.onErrorClick,\n          autoHeight = _a.autoHeight,\n          defaultValue = _a.defaultValue,\n          otherProps = __rest(_a, [\"prefixCls\", \"prefixListCls\", \"editable\", \"style\", \"clear\", \"children\", \"error\", \"className\", \"count\", \"labelNumber\", \"title\", \"onErrorClick\", \"autoHeight\", \"defaultValue\"]);\n\n      var disabled = otherProps.disabled;\n      var _state = this.state,\n          value = _state.value,\n          focus = _state.focus;\n      var hasCount = count > 0 && this.props.rows > 1;\n      var wrapCls = (0, _classnames4['default'])(className, prefixListCls + '-item', prefixCls + '-item', (_classnames = {}, (0, _defineProperty3['default'])(_classnames, prefixCls + '-disabled', disabled), (0, _defineProperty3['default'])(_classnames, prefixCls + '-item-single-line', this.props.rows === 1 && !autoHeight), (0, _defineProperty3['default'])(_classnames, prefixCls + '-error', error), (0, _defineProperty3['default'])(_classnames, prefixCls + '-focus', focus), (0, _defineProperty3['default'])(_classnames, prefixCls + '-has-count', hasCount), _classnames));\n      var labelCls = (0, _classnames4['default'])(prefixCls + '-label', (_classnames2 = {}, (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-2', labelNumber === 2), (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-3', labelNumber === 3), (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-4', labelNumber === 4), (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-5', labelNumber === 5), (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-6', labelNumber === 6), (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-7', labelNumber === 7), _classnames2));\n      var characterLength = countSymbols(value);\n      var lengthCtrlProps = {};\n\n      if (count > 0) {\n        // Note: If in the iOS environment of dev-tools, It will fail.\n        if (_exenv.IS_IOS) {\n          var entValue = value ? value.replace(regexAstralSymbols, '_') : '';\n          var entLen = entValue ? entValue.split('_').length - 1 : 0;\n          lengthCtrlProps.maxLength = count + entLen - characterLength + (value ? value.length : 0);\n        } else {\n          lengthCtrlProps.maxLength = count - characterLength + (value ? value.length : 0);\n        }\n      }\n\n      return _react2['default'].createElement('div', {\n        className: wrapCls\n      }, title && _react2['default'].createElement('div', {\n        className: labelCls\n      }, title), _react2['default'].createElement('div', {\n        className: prefixCls + '-control'\n      }, _react2['default'].createElement('textarea', (0, _extends3['default'])({\n        ref: function ref(el) {\n          return _this2.textareaRef = el;\n        }\n      }, lengthCtrlProps, otherProps, {\n        value: value,\n        onChange: this.onChange,\n        onBlur: this.onBlur,\n        onFocus: this.onFocus,\n        readOnly: !editable,\n        style: style\n      }))), clear && editable && value && characterLength > 0 && _react2['default'].createElement(_rmcFeedback2['default'], {\n        activeClassName: prefixCls + '-clear-active'\n      }, _react2['default'].createElement('div', {\n        className: prefixCls + '-clear',\n        onClick: this.clearInput\n      })), error && _react2['default'].createElement('div', {\n        className: prefixCls + '-error-extra',\n        onClick: this.onErrorClick\n      }), hasCount && _react2['default'].createElement('span', {\n        className: prefixCls + '-count'\n      }, _react2['default'].createElement('span', null, value ? characterLength : 0), '/', count));\n    }\n  }]);\n  return TextareaItem;\n}(_react2['default'].Component);\n\nexports['default'] = TextareaItem;\nTextareaItem.defaultProps = {\n  prefixCls: 'am-textarea',\n  prefixListCls: 'am-list',\n  autoHeight: false,\n  editable: true,\n  disabled: false,\n  placeholder: '',\n  clear: false,\n  rows: 1,\n  onChange: noop,\n  onBlur: noop,\n  onFocus: noop,\n  onErrorClick: noop,\n  error: false,\n  labelNumber: 5\n};\nmodule.exports = exports['default'];","'use strict';\n\nrequire('../../style/');\n\nrequire('../../flex/style/');\n\nrequire('./index.less');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _flex = require('../flex');\n\nvar _flex2 = _interopRequireDefault(_flex);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n/* tslint:disable:no-bitwise */\n\n\nfunction noop() {}\n\nvar ImagePicker = function (_React$Component) {\n  (0, _inherits3['default'])(ImagePicker, _React$Component);\n\n  function ImagePicker() {\n    (0, _classCallCheck3['default'])(this, ImagePicker); // http://stackoverflow.com/questions/7584794/accessing-jpeg-exif-rotation-data-in-javascript-on-the-client-side\n\n    var _this = (0, _possibleConstructorReturn3['default'])(this, (ImagePicker.__proto__ || Object.getPrototypeOf(ImagePicker)).apply(this, arguments));\n\n    _this.getOrientation = function (file, callback) {\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        var view = new DataView(e.target.result);\n\n        if (view.getUint16(0, false) !== 0xffd8) {\n          return callback(-2);\n        }\n\n        var length = view.byteLength;\n        var offset = 2;\n\n        while (offset < length) {\n          var marker = view.getUint16(offset, false);\n          offset += 2;\n\n          if (marker === 0xffe1) {\n            var tmp = view.getUint32(offset += 2, false);\n\n            if (tmp !== 0x45786966) {\n              return callback(-1);\n            }\n\n            var little = view.getUint16(offset += 6, false) === 0x4949;\n            offset += view.getUint32(offset + 4, little);\n            var tags = view.getUint16(offset, little);\n            offset += 2;\n\n            for (var i = 0; i < tags; i++) {\n              if (view.getUint16(offset + i * 12, little) === 0x0112) {\n                return callback(view.getUint16(offset + i * 12 + 8, little));\n              }\n            }\n          } else if ((marker & 0xff00) !== 0xff00) {\n            break;\n          } else {\n            offset += view.getUint16(offset, false);\n          }\n        }\n\n        return callback(-1);\n      };\n\n      reader.readAsArrayBuffer(file.slice(0, 64 * 1024));\n    };\n\n    _this.getRotation = function () {\n      var orientation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var imgRotation = 0;\n\n      switch (orientation) {\n        case 3:\n          imgRotation = 180;\n          break;\n\n        case 6:\n          imgRotation = 90;\n          break;\n\n        case 8:\n          imgRotation = 270;\n          break;\n\n        default:\n      }\n\n      return imgRotation;\n    };\n\n    _this.removeImage = function (index) {\n      var newImages = [];\n      var _this$props$files = _this.props.files,\n          files = _this$props$files === undefined ? [] : _this$props$files;\n      files.forEach(function (image, idx) {\n        if (index !== idx) {\n          newImages.push(image);\n        }\n      });\n\n      if (_this.props.onChange) {\n        _this.props.onChange(newImages, 'remove', index);\n      }\n    };\n\n    _this.addImage = function (imgItem) {\n      var _this$props$files2 = _this.props.files,\n          files = _this$props$files2 === undefined ? [] : _this$props$files2;\n      var newImages = files.concat(imgItem);\n\n      if (_this.props.onChange) {\n        _this.props.onChange(newImages, 'add');\n      }\n    };\n\n    _this.onImageClick = function (index) {\n      if (_this.props.onImageClick) {\n        _this.props.onImageClick(index, _this.props.files);\n      }\n    };\n\n    _this.onFileChange = function () {\n      var fileSelectorEl = _this.fileSelectorInput;\n\n      if (fileSelectorEl && fileSelectorEl.files && fileSelectorEl.files.length) {\n        var files = fileSelectorEl.files;\n\n        for (var i = 0; i < files.length; i++) {\n          _this.parseFile(files[i], i);\n        }\n      }\n\n      if (fileSelectorEl) {\n        fileSelectorEl.value = '';\n      }\n    };\n\n    _this.parseFile = function (file, index) {\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        var dataURL = e.target.result;\n\n        if (!dataURL) {\n          if (_this.props.onFail) {\n            _this.props.onFail('Fail to get the ' + index + ' image');\n          }\n\n          return;\n        }\n\n        var orientation = 1;\n\n        _this.getOrientation(file, function (res) {\n          // -2: not jpeg , -1: not defined\n          if (res > 0) {\n            orientation = res;\n          }\n\n          _this.addImage({\n            url: dataURL,\n            orientation: orientation,\n            file: file\n          });\n        });\n      };\n\n      reader.readAsDataURL(file);\n    };\n\n    return _this;\n  }\n\n  (0, _createClass3['default'])(ImagePicker, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          style = _props.style,\n          className = _props.className,\n          _props$files = _props.files,\n          files = _props$files === undefined ? [] : _props$files,\n          selectable = _props.selectable,\n          onAddImageClick = _props.onAddImageClick,\n          multiple = _props.multiple,\n          accept = _props.accept;\n      var imgItemList = [];\n      var count = parseInt('' + this.props.length, 10);\n\n      if (count <= 0) {\n        count = 4;\n      }\n\n      var wrapCls = (0, _classnames2['default'])('' + prefixCls, className);\n      files.forEach(function (image, index) {\n        var imgStyle = {\n          backgroundImage: 'url(' + image.url + ')',\n          transform: 'rotate(' + _this2.getRotation(image.orientation) + 'deg)'\n        };\n        var itemStyle = {};\n        imgItemList.push(_react2['default'].createElement(_flex2['default'].Item, {\n          key: 'item-' + index,\n          style: itemStyle\n        }, _react2['default'].createElement('div', {\n          key: index,\n          className: prefixCls + '-item'\n        }, _react2['default'].createElement('div', {\n          className: prefixCls + '-item-remove',\n          role: 'button',\n          'aria-label': 'Click and Remove this image' // tslint:disable-next-line:jsx-no-multiline-js\n          ,\n          onClick: function onClick() {\n            _this2.removeImage(index);\n          }\n        }), _react2['default'].createElement('div', {\n          className: prefixCls + '-item-content',\n          role: 'button',\n          'aria-label': 'Image can be clicked' // tslint:disable-next-line:jsx-no-multiline-js\n          ,\n          onClick: function onClick() {\n            _this2.onImageClick(index);\n          },\n          style: imgStyle\n        }))));\n      });\n\n      var selectEl = _react2['default'].createElement(_flex2['default'].Item, {\n        key: 'select'\n      }, _react2['default'].createElement(_rmcFeedback2['default'], {\n        activeClassName: prefixCls + '-upload-btn-active'\n      }, _react2['default'].createElement('div', {\n        className: prefixCls + '-item ' + prefixCls + '-upload-btn',\n        onClick: onAddImageClick,\n        role: 'button',\n        'aria-label': 'Choose and add image'\n      }, _react2['default'].createElement('input', {\n        ref: function ref(input) {\n          if (input) {\n            _this2.fileSelectorInput = input;\n          }\n        },\n        type: 'file',\n        accept: accept // tslint:disable-next-line:jsx-no-multiline-js\n        ,\n        onChange: function onChange() {\n          _this2.onFileChange();\n        },\n        multiple: multiple\n      }))));\n\n      var allEl = selectable ? imgItemList.concat([selectEl]) : imgItemList;\n      var length = allEl.length;\n\n      if (length !== 0 && length % count !== 0) {\n        var blankCount = count - length % count;\n        var fillBlankEl = [];\n\n        for (var i = 0; i < blankCount; i++) {\n          fillBlankEl.push(_react2['default'].createElement(_flex2['default'].Item, {\n            key: 'blank-' + i\n          }));\n        }\n\n        allEl = allEl.concat(fillBlankEl);\n      }\n\n      var flexEl = [];\n\n      for (var _i = 0; _i < allEl.length / count; _i++) {\n        var rowEl = allEl.slice(_i * count, _i * count + count);\n        flexEl.push(rowEl);\n      }\n\n      var renderEl = flexEl.map(function (item, index) {\n        return _react2['default'].createElement(_flex2['default'], {\n          key: 'flex-' + index\n        }, item);\n      });\n      return _react2['default'].createElement('div', {\n        className: wrapCls,\n        style: style\n      }, _react2['default'].createElement('div', {\n        className: prefixCls + '-list',\n        role: 'group'\n      }, renderEl));\n    }\n  }]);\n  return ImagePicker;\n}(_react2['default'].Component);\n\nexports['default'] = ImagePicker;\nImagePicker.defaultProps = {\n  prefixCls: 'am-image-picker',\n  files: [],\n  onChange: noop,\n  onImageClick: noop,\n  onAddImageClick: noop,\n  onFail: noop,\n  selectable: true,\n  multiple: false,\n  accept: 'image/*',\n  length: 4\n};\nmodule.exports = exports['default'];"],"sourceRoot":""}