(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{541:function(e,t,a){"use strict";var n=a(530),r=a(2),i=a.n(r);t.a=function(e){var t=Object(n.a)({},e).message,a=void 0===t?"\u65e0\u7ed3\u679c":t;return i.a.createElement("div",{className:"normalFontSizeC shallowGreyColor",style:{textAlign:"center"}},a)}},584:function(e,t,a){"use strict";a.d(t,"a",function(){return b});a(232);var n=a(116),r=a.n(n),i=a(85),o=a(86),c=a(88),s=a(87),l=a(89),u=a(2),d=a.n(u),p=a(53),h=a(47),m=a(162),f=a(585),g=a.n(f),b=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).onLikes=function(e){e.stopPropagation();var t=a.props,n=t.rowData,i=t.updateCurrentItem;Object(p.a)({url:h.a.saveLikes,data:{id:n.id,status:1}}).then(function(e){r.a.success(e,.7),i("likes",n.index)}).catch(function(e){})},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.rowData,a=e.style,n=void 0===a?null:a,r=e.className,i=void 0===r?null:r,o=e.rowClick,c=t.surfacePlotUrl,s=t.title,l=t.styleName,u=t.views,p=t.comments,h=t.likes;return d.a.createElement("div",{className:"".concat(g.a.wrapper," ").concat(i),style:n,onClick:o},d.a.createElement("img",{src:m.d+c,alt:s}),d.a.createElement("div",{className:g.a.wrapper_content},d.a.createElement("p",{className:g.a.wrapper_content_title},s),d.a.createElement("p",{className:g.a.wrapper_content_des},l),d.a.createElement("ul",{className:g.a.wrapper_content_footer},d.a.createElement("li",null,d.a.createElement("i",{className:"iconfont icon-chakan"}),u),d.a.createElement("li",null,d.a.createElement("i",{className:"iconfont icon-xiaoxi"}),p),d.a.createElement("li",{onClick:this.onLikes},d.a.createElement("i",{className:"iconfont icon-i-good"}),h))))}}]),t}(u.Component);b.defaultProps={rowClick:function(){},rowData:{},updateCurrentItem:function(){}}},585:function(e,t,a){e.exports={wrapper:"index_wrapper__3DJ7H",wrapper_content:"index_wrapper_content__Y1ZN0",wrapper_content_title:"index_wrapper_content_title__1duEk",wrapper_content_des:"index_wrapper_content_des__eseFn",wrapper_content_footer:"index_wrapper_content_footer__1DxxL"}},617:function(e,t,a){"use strict";a.d(t,"a",function(){return h});var n=a(85),r=a(86),i=a(88),o=a(87),c=a(89),s=a(2),l=a.n(s),u=a(162),d=a(618),p=a.n(d),h=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.rowData,n=e.style,r=void 0===n?null:n,i=e.className,o=void 0===i?null:i,c=a.title,s=a.imgUrl;return l.a.createElement("div",{onClick:t,className:o?"".concat(p.a.wrapper," ").concat(o):p.a.wrapper,style:r},l.a.createElement("div",{className:p.a.wrapper_img},s?l.a.createElement("img",{src:u.d+s,alt:c}):null),l.a.createElement("div",{className:p.a.wrapper_title},c||"\u3000"))}}]),t}(s.Component);h.defaultProps={onClick:function(){},rowData:{}}},618:function(e,t,a){e.exports={wrapper:"index_wrapper__3x62P",wrapper_img:"index_wrapper_img__3q2Kq",wrapper_title:"index_wrapper_title__2QE_d"}},681:function(e,t,a){e.exports={wrapper:"searchBar_wrapper__1_htI",wrapper_search:"searchBar_wrapper_search__zrdU1"}},683:function(e,t,a){e.exports={mask:"index_mask__3t0eW",dialog_content:"index_dialog_content__uF_QP"}},685:function(e,t,a){e.exports={wrapper:"filter_wrapper__3H58A"}},687:function(e,t,a){e.exports={wrapper:"classify_wrapper__1kjRn",active:"classify_active__2fTPt"}},689:function(e,t,a){e.exports={wrapper:"case_wrapper__1cBEl",filter_wrapper:"case_filter_wrapper__3NSP3",filter_item_wrapper:"case_filter_item_wrapper__2RDeT",active:"case_active__2FP4u"}},691:function(e,t,a){e.exports={tabs_content:"mountings_tabs_content__3tKbu",active:"mountings_active__-2UoE",list_row_wrapper:"mountings_list_row_wrapper__1oEuN"}},693:function(e,t,a){e.exports={filter_wrapper:"palette_filter_wrapper__3r3Hs"}},877:function(e,t,a){"use strict";a.r(t);a(615);var n=a(616),r=a.n(n),i=a(530),o=a(85),c=a(86),s=a(88),l=a(87),u=a(89),d=a(2),p=a.n(d),h=a(91),m=(a(571),a(572)),f=a.n(m),g=a(90),b=a(540),v=(a(552),a(553)),y=a.n(v),w=a(33),_=a.n(w),k=a(247),E=a(41),L=a(541),S=a(584),C=(a(674),a(677)),O=a.n(C),j=a(681),N=a.n(j),B=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,a=e.extra,n=e.onSearch;return p.a.createElement("div",{className:N.a.wrapper},p.a.createElement(O.a,{className:N.a.wrapper_search,placeholder:t,onSubmit:n,onClear:n}),a)}}]),t}(d.Component);B.defaultProps={placeholder:"",extra:null,onSearch:function(){}};var I=a(683),x=a.n(I),R=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).renderModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.visible,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props.children,n=a.props,r=n.onCancel,i=n.maskClose;_.a.render(p.a.createElement("div",null,p.a.createElement("div",{className:x.a.mask,onClick:function(e){i&&r()},style:{display:e?null:"none"}}),p.a.createElement("div",{className:x.a.dialog_content,ref:function(e){return a.dialog=e}},t)),a.modal,function(){var t=null,n=a.dialog;n&&(e?(n.style.display="block",t=setTimeout(function(){n.style.transform="translateX(0)",clearTimeout(t),t=null},0)):(n.style.transform="translateX(100%)",t=setTimeout(function(){n.style.display="none",clearTimeout(t),t=null},200)))})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.modal=document.createElement("div"),document.body.appendChild(this.modal),this.renderModal()}},{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.children;this.renderModal(t,a)}},{key:"componentWillUnmount",value:function(){_.a.unmountComponentAtNode(this.modal),document.body.removeChild(this.modal)}},{key:"render",value:function(){return null}}]),t}(d.Component);R.defaultProps={onCancel:function(){},visible:!1,maskClose:!0};var T=a(685),D=a.n(T),M=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.onCancel=function(){a.setState({visible:!1})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.visible,a=this.props,n=a.children,r=a.onRest,i=a.onOk;return p.a.createElement("span",{onClick:function(t){e.setState({visible:!0})}},p.a.createElement("i",{className:"iconfont icon-filter",style:{fontSize:22}}),p.a.createElement(R,{visible:t,onCancel:this.onCancel},p.a.createElement("div",{className:D.a.wrapper},p.a.createElement("div",null,n),p.a.createElement("div",{className:"xBoth1px"},p.a.createElement("span",{onClick:r},"\u91cd\u7f6e"),p.a.createElement("span",{onClick:function(){i(),e.onCancel()}},"\u786e\u5b9a")))))}}]),t}(d.Component);M.defaultProps={onRest:function(){},onOk:function(){}};var P=a(687),A=a.n(P),z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={current:null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.source,a=e.itemClick,n=t[0].val;t.length&&(this.setState({current:n}),a(n))}},{key:"render",value:function(){var e=this,t=this.state.current,a=this.props,n=a.source,r=a.itemClick;return p.a.createElement("ul",{className:A.a.wrapper},n.map(function(a,i){return p.a.createElement("li",{key:a.val,className:t===a.val?A.a.active:null,onClick:function(t){var n=e.state.current,i=a.val;n!==i&&(e.setState({current:i}),r(i))}},p.a.createElement("div",{style:{borderRight:i>=n.length-1?"none":null}},a.title))}))}}]),t}(d.Component);z.defaultProps={source:[],itemClick:function(){}};var H=a(53),U=a(47),F=a(689),W=a.n(F),J=Object(E.a)(function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(6),a.e(37)]).then(a.bind(null,93))}),q=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={pageNo:1,pageSize:10,hasMore:!0,dataBlobs:[],dataSource:new y.a.DataSource({rowHasChanged:function(e,t){return e!==t}}),isLoading:!1,height:0,keyword:"",sceneId:"",areaIdList:[],huxingIdList:[],meritsIdList:[],priceIdList:[],styleIdList:[],sortColumn:"",caseBaseList:[]},a.getCaseBaseList=function(){Object(H.a)({url:U.a.caseBaseList}).then(function(e){a.setState({caseBaseList:e})}).catch(function(e){})},a.getCaseList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageNo,n=void 0===t?a.state.pageNo:t,r=e.keyword,i=void 0===r?a.state.keyword:r,o=e.dataBlobs,c=void 0===o?a.state.dataBlobs:o,s=e.sortColumn,l=void 0===s?a.state.sortColumn:s,u=a.state,d=u.pageSize,p=u.sceneId,h=u.areaIdList,m=u.huxingIdList,f=u.meritsIdList,g=u.priceIdList,v=u.styleIdList,y=u.dataSource;a.setState({isLoading:!0,keyword:i,sortColumn:l}),Object(H.a)({url:U.a.pageCase,data:{pageNo:n,pageSize:d,keyword:i,sceneId:p,areaIdList:h,huxingIdList:m,meritsIdList:f,priceIdList:g,styleIdList:v,sortColumn:l}}).then(function(e){var t=e.list,r=e.pageTurn,i=r.nextPage,o=r.rowCount,s=Object(b.a)(c).concat(Object(b.a)(t));a.setState({hasMore:!(s.length>=o),pageNo:i,dataBlobs:s,dataSource:y.cloneWithRows(s.concat()),isLoading:!1}),1===n&&a.lv.scrollTo(0,0)}).catch(function(e){a.setState({isLoading:!1})})},a.onEndReached=function(e){var t=a.state,n=t.isLoading,r=t.hasMore;!n&&r&&a.getCaseList()},a.updateList=function(){var e=a.state,t=e.dataBlobs,n=e.dataSource,r=e.keyword,i=e.sceneId,o=e.areaIdList,c=e.huxingIdList,s=e.meritsIdList,l=e.priceIdList,u=e.styleIdList,d=e.sortColumn,p=t.length;Object(H.a)({url:U.a.pageCase,data:{pageNo:1,pageSize:p,keyword:r,sceneId:i,areaIdList:o,huxingIdList:c,meritsIdList:s,priceIdList:l,styleIdList:u,sortColumn:d}}).then(function(e){var t=e.list,r=e.pageTurn.rowCount;a.setState({hasMore:!(t.length>=r),dataBlobs:t,dataSource:n.cloneWithRows(t)})}).catch(function(e){})},a.onSearch=function(e){e!==a.state.keyword&&a.getCaseList({pageNo:1,keyword:e,dataBlobs:[]})},a.onOk=function(){a.getCaseList({pageNo:1,dataBlobs:[]})},a.whichOne=function(e,t,a,n,r,i,o){switch(e){case"space_material":t();break;case"style_material":a();break;case"luminance_material":n();break;case"price_material":r();break;case"area_material":i();break;case"household_material":o()}},a.updateCurrentItem=function(e,t){if(e){var n=a.state,r=n.dataBlobs,i=n.dataSource,o=Object(b.a)(r),c=Object(g.a)({},o[t]);c[e]++,o.splice(t,1,c),a.setState({dataBlobs:o,dataSource:i.cloneWithRows(o)})}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=document.documentElement.clientHeight-_.a.findDOMNode(this.lv).getBoundingClientRect().top;this.setState({height:e}),this.getCaseBaseList()}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.caseBaseList,r=a.sceneId,i=a.styleIdList,o=a.meritsIdList,c=a.priceIdList,s=a.areaIdList,l=a.huxingIdList,u=a.dataBlobs,d=a.dataSource,h=a.height,m=this.props,g=m.match,v=m.history;return p.a.createElement("div",{className:W.a.wrapper},p.a.createElement(B,{placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",extra:p.a.createElement(M,{onRest:function(){t.setState({sceneId:"",styleIdList:[],meritsIdList:[],priceIdList:[],areaIdList:[],huxingIdList:[]})},onOk:this.onOk},p.a.createElement("div",null,n.map(function(a){return t.whichOne(a.key,function(){e=r},function(){e=i},function(){e=o},function(){e=c},function(){e=s},function(){e=l}),p.a.createElement("ul",{key:a.key,className:W.a.filter_wrapper},p.a.createElement("li",{className:"titleFontSizeC"},a.name),p.a.createElement("li",null,p.a.createElement("ul",{className:"".concat(W.a.filter_item_wrapper," normalFontSizeC")},a.data.map(function(n){return p.a.createElement("li",{key:n.id,onClick:function(e){var u=function(e){return e.filter(function(e){return e===n.id}).length?e.filter(function(e){return e!==n.id}):Object(b.a)(e).concat([n.id])};t.whichOne(a.key,function(){t.setState({sceneId:n.id===r?"":n.id})},function(){t.setState({styleIdList:u(i)})},function(){t.setState({meritsIdList:u(o)})},function(){t.setState({priceIdList:u(c)})},function(){t.setState({areaIdList:u(s)})},function(){t.setState({huxingIdList:u(l)})})},className:Array.isArray(e)&&e.some(function(e){return e===n.id})||n.id===e?W.a.active:null},n.name||n.range)}))))}))),onSearch:this.onSearch}),p.a.createElement(z,{source:[{title:"\u6700\u65b0",val:"a.create_time"},{title:"\u4eba\u6c14",val:"b.intents"},{title:"\u70b9\u8d5e",val:"b.likes"},{title:"\u6536\u85cf",val:"b.collects"}],itemClick:function(e){t.getCaseList({pageNo:1,dataBlobs:[],sortColumn:e})}}),p.a.createElement("div",{className:"bg_grey_list_view"},p.a.createElement(y.a,{ref:function(e){return t.lv=e},dataSource:d,renderHeader:function(){return u.length?null:p.a.createElement(L.a,null)},renderRow:function(e,a,n){var r=e.id,i=e.surfacePlotUrl,o=e.title,c=e.styleName,s=e.views,l=e.comments,u=e.likes;return p.a.createElement(S.a,{style:{marginBottom:10},rowClick:function(){v.push({pathname:g.path+"/case",state:{id:r,index:n}})},rowData:{index:n,id:r,surfacePlotUrl:i,title:o,styleName:c,views:s,comments:l,likes:u},updateCurrentItem:t.updateCurrentItem})},style:{height:h},onEndReached:this.onEndReached,onEndReachedThreshold:80,pullToRefresh:p.a.createElement(f.a,{direction:"down",distanceToRefresh:40,onRefresh:this.updateList})})),p.a.createElement(k.a,{path:g.path+"/case",render:function(e){return p.a.createElement(J,Object.assign({},e,{updateCurrentItem:t.updateCurrentItem}))}}))}}]),t}(d.Component),K=a(162),Q=a(691),X=a.n(Q),G=Object(E.a)(function(){return Promise.all([a.e(2),a.e(38)]).then(a.bind(null,875))}),Y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={pageNo:1,pageSize:10,hasMore:!0,dataBlobs:[],dataSource:new y.a.DataSource({rowHasChanged:function(e,t){return e!==t}}),isLoading:!1,height:0,pid:"",brandname:"",keyword:"",brandList:[],classifyList:[]},a.goToDetail=function(e){var t=a.props,n=t.history,r=t.match;n.push({pathname:r.path+"/mountings",state:e})},a.getBrandList=function(){Object(H.a)({url:U.a.brandList}).then(function(e){a.setState({brandList:e})}).catch(function(e){console.log(e)})},a.getMountingsClassify=function(){Object(H.a)({url:U.a.partSortList,data:{pid:0}}).then(function(e){a.setState({classifyList:e})}).catch(function(e){console.log(e)})},a.getMountingsList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageNo,n=void 0===t?a.state.pageNo:t,r=e.keyword,i=void 0===r?a.state.keyword:r,o=e.dataBlobs,c=void 0===o?a.state.dataBlobs:o,s=a.state,l=s.pageSize,u=s.pid,d=s.brandname,p=s.dataSource;a.setState({isLoading:!0,keyword:i}),Object(H.a)({url:U.a.partDetailList,data:{pageNo:n,pageSize:l,status:1,pid:u,brandname:d,keyword:i}}).then(function(e){var t=e.list,r=e.pageTurn,i=r.nextPage,o=r.rowCount,s=Object(b.a)(c).concat(Object(b.a)(t));a.setState({hasMore:!(s.length>=o),pageNo:i,dataBlobs:s,dataSource:p.cloneWithRows(s),isLoading:!1}),1===n&&a.lv.scrollTo(0,0)}).catch(function(e){console.log(e),a.setState({isLoading:!1})})},a.renderContent=function(e){var t=Object(i.a)({},e),n=a.state,r=n.brandList,o=n.brandname,c=n.pid,s=t.children,l=t.name;return p.a.createElement("ul",{className:X.a.tabs_content},"\u54c1\u724c"===l?r.map(function(e){return p.a.createElement("li",{className:o===e.brandname?X.a.active:null,key:e.id,onClick:function(t){a.setState({brandname:o===e.brandname?"":e.brandname})}},e.brandname)}):s.map(function(e){return p.a.createElement("li",{className:c===e.id?X.a.active:null,key:e.id,onClick:function(t){a.setState({pid:c===e.id?"":e.id})}},e.name)}))},a.onEndReached=function(e){var t=a.state,n=t.isLoading,r=t.hasMore;!n&&r&&a.getMountingsList()},a.updateList=function(){var e=a.state,t=e.dataBlobs,n=e.dataSource,r=e.pid,i=e.brandname,o=e.keyword,c=t.length;Object(H.a)({url:U.a.partDetailList,data:{pageNo:1,pageSize:c,status:1,pid:r,brandname:i,keyword:o}}).then(function(e){var t=e.list,r=e.pageTurn.rowCount;a.setState({hasMore:!(t.length>=r),dataBlobs:t,dataSource:n.cloneWithRows(t)})}).catch(function(e){})},a.onSearch=function(e){e!==a.state.keyword&&a.getMountingsList({pageNo:1,keyword:e,dataBlobs:[]})},a.onOk=function(){a.getMountingsList({pageNo:1,dataBlobs:[]})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=document.documentElement.clientHeight-_.a.findDOMNode(this.lv).getBoundingClientRect().top;this.setState({height:e}),this.getBrandList(),this.getMountingsClassify(),this.getMountingsList()}},{key:"render",value:function(){var e=this,t=this.state,a=t.classifyList,n=t.dataBlobs,i=t.dataSource,o=t.height,c=this.props.match;return p.a.createElement("div",null,p.a.createElement(B,{placeholder:"\u8bf7\u8f93\u5165\u914d\u4ef6\u540d\u79f0",extra:p.a.createElement(M,{onRest:function(){e.setState({pid:"",brandname:""})},onOk:this.onOk},p.a.createElement(r.a,{tabs:[{name:"\u54c1\u724c"}].concat(Object(b.a)(a)),tabBarActiveTextColor:"#DA4943",tabBarUnderlineStyle:{borderColor:"#FF0000"},renderTabBar:function(e){return p.a.createElement(r.a.DefaultTabBar,Object.assign({renderTab:function(e){return e.name}},e,{page:3}))}},this.renderContent)),onSearch:this.onSearch}),p.a.createElement("div",{className:"bg_grey_list_view"},p.a.createElement(y.a,{ref:function(t){return e.lv=t},dataSource:i,renderHeader:function(){return n.length?null:p.a.createElement(L.a,null)},renderRow:function(t,a,n){return p.a.createElement("div",{onClick:e.goToDetail.bind(e,t),key:n,style:{marginRight:n%2===0?"2%":null},className:X.a.list_row_wrapper},p.a.createElement("div",{className:"xBottom1px"},p.a.createElement("img",{src:K.d+t.surfacePlotUrl,alt:t.name})),p.a.createElement("div",null,t.name))},style:{height:o},onEndReached:this.onEndReached,onEndReachedThreshold:60,pullToRefresh:p.a.createElement(f.a,{direction:"down",distanceToRefresh:40,onRefresh:this.updateList})})),p.a.createElement(k.a,{path:c.path+"/mountings",component:G}))}}]),t}(d.Component),Z=a(617),V=a(693),$=a.n(V),ee=Object(E.a)(function(){return Promise.all([a.e(2),a.e(39)]).then(a.bind(null,876))}),te=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={classifyList:[],pageNo:1,pageSize:10,bid:"",keyword:"",hasMore:!0,dataBlobs:[],dataSource:new y.a.DataSource({rowHasChanged:function(e,t){return e!==t}}),isLoading:!1,height:0},a.goToDetail=function(e){var t=a.props,n=t.history,r=t.match;n.push({pathname:r.path+"/palette",state:e})},a.getPaletteClassify=function(){Object(H.a)({url:U.a.boardTypeList,data:{pageNo:1,pageSize:10,status:1}}).then(function(e){var t=e.list;a.setState({classifyList:t})}).catch(function(e){console.log(e)})},a.getPaletteList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageNo,n=void 0===t?a.state.pageNo:t,r=e.keyword,i=void 0===r?a.state.keyword:r,o=e.dataBlobs,c=void 0===o?a.state.dataBlobs:o,s=a.state,l=s.pageSize,u=s.bid,d=s.dataSource;a.setState({isLoading:!0,bid:u,keyword:i}),Object(H.a)({url:U.a.boardDetailList,data:{pageNo:n,pageSize:l,status:1,bid:u,keyword:i}}).then(function(e){var t=e.list,r=e.pageTurn,i=r.nextPage,o=r.rowCount,s=Object(b.a)(c).concat(Object(b.a)(t));a.setState({hasMore:!(s.length>=o),pageNo:i,dataBlobs:s,dataSource:d.cloneWithRows(s),isLoading:!1}),1===n&&a.lv.scrollTo(0,0)}).catch(function(e){console.log(e),a.setState({isLoading:!1})})},a.onEndReached=function(e){var t=a.state,n=t.isLoading,r=t.hasMore;!n&&r&&a.getPaletteList()},a.updateList=function(){var e=a.state,t=e.dataBlobs,n=e.dataSource,r=e.bid,i=e.keyword,o=t.length;Object(H.a)({url:U.a.boardDetailList,data:{pageNo:1,pageSize:o,status:1,bid:r,keyword:i}}).then(function(e){var t=e.list,r=e.pageTurn.rowCount;a.setState({hasMore:!(t.length>=r),dataBlobs:t,dataSource:n.cloneWithRows(t)})}).catch(function(e){})},a.onSearch=function(e){e!==a.state.keyword&&a.getPaletteList({pageNo:1,keyword:e,dataBlobs:[]})},a.onOk=function(){a.getPaletteList({pageNo:1,dataBlobs:[]})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=document.documentElement.clientHeight-_.a.findDOMNode(this.lv).getBoundingClientRect().top;this.setState({height:e}),this.getPaletteClassify(),this.getPaletteList()}},{key:"render",value:function(){var e=this,t=this.state,a=t.classifyList,n=t.bid,r=t.dataBlobs,i=t.dataSource,o=t.height,c=this.props.match;return p.a.createElement("div",null,p.a.createElement(B,{placeholder:"\u8bf7\u8f93\u5165\u8272\u677f\u540d\u79f0",extra:p.a.createElement(M,{onRest:function(){e.setState({bid:""})},onOk:this.onOk},p.a.createElement("ul",{className:"".concat($.a.filter_wrapper," normalFontSizeC")},[{id:"",name:"\u5168\u90e8"}].concat(Object(b.a)(a)).map(function(t){return p.a.createElement("li",{className:n===t.id?"redColor xBottom1px":"xBottom1px",key:t.id,onClick:function(a){e.setState({bid:t.id})}},t.name)}))),onSearch:this.onSearch}),p.a.createElement("div",{className:"bg_grey_list_view"},p.a.createElement(y.a,{ref:function(t){return e.lv=t},dataSource:i,renderHeader:function(){return r.length?null:p.a.createElement(L.a,null)},renderRow:function(t,a,n){var r=t.id,i=t.imgUrl,o=t.title;return p.a.createElement(Z.a,{style:{width:"49%",marginRight:n%2===0?"2%":null},onClick:e.goToDetail.bind(e,{id:r}),rowData:{imgUrl:i,title:o}})},style:{height:o},onEndReached:this.onEndReached,onEndReachedThreshold:60,pullToRefresh:p.a.createElement(f.a,{direction:"down",distanceToRefresh:40,onRefresh:this.updateList})})),p.a.createElement(k.a,{path:c.path+"/palette",component:ee}))}}]),t}(d.Component);t.default=Object(h.b)(function(e){return{routeState:e.routeState}})(function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={page:"case"},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.routeState.pathname.split("/")[2];e&&this.setState({page:e})}},{key:"render",value:function(){var e=this,t=this.state.page,a=this.props,n=a.history,o=a.match;return p.a.createElement(r.a,{tabs:[{key:"case",title:"\u8bbe\u8ba1\u6848\u4f8b"},{key:"palette",title:"\u8272\u677f\u5e93"},{key:"mountings",title:"\u914d\u4ef6\u5e93"}],tabBarTextStyle:{color:"#AEAEAE"},tabBarActiveTextColor:"#DA4943",tabBarUnderlineStyle:{borderColor:"#FF0000"},prerenderingSiblingsNumber:0,page:t,onChange:function(t){var a=Object(i.a)({},t);e.setState({page:a.key})}},p.a.createElement(q,{key:"case",history:n,match:o}),p.a.createElement(te,{key:"palette",history:n,match:o}),p.a.createElement(Y,{key:"mountings",history:n,match:o}))}}]),t}(d.Component))}}]);
//# sourceMappingURL=18.1e719e7f.chunk.js.map