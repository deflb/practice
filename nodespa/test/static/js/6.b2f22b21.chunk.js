(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{525:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},573:function(e,t,n){"use strict";n(221),n(223),n(628)},574:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(42)),o=d(n(24)),a=d(n(25)),i=d(n(14)),c=d(n(26)),s=d(n(2)),u=d(n(1)),l=d(n(792)),f=n(575),h=d(n(224));function d(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=(0,f.getComponentLocale)(this.props,this.context,"PullToRefresh",function(){return n(630)}),t=e.activateText,o=e.deactivateText,a=e.finishText,i=(0,r.default)({activate:t,deactivate:o,release:s.default.createElement(h.default,{type:"loading"}),finish:a},this.props.indicator);return s.default.createElement(l.default,(0,r.default)({},this.props,{indicator:i}))}}]),t}(s.default.Component);t.default=g,g.defaultProps={prefixCls:"am-pull-to-refresh"},g.contextTypes={antLocale:u.default.object},e.exports=t.default},575:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(42),a=(r=o)&&r.__esModule?r:{default:r};t.getComponentLocale=function(e,t,n,r){var o={};if(t&&t.antLocale&&t.antLocale[n])o=t.antLocale[n];else{var i=r();o=i.default||i}var c=(0,a.default)({},o);e.locale&&(c=(0,a.default)({},c,e.locale),e.locale.lang&&(c.lang=(0,a.default)({},o.lang,e.locale.lang)));return c},t.getLocaleCode=function(e){var t=e.antLocale&&e.antLocale.locale;if(e.antLocale&&e.antLocale.exist&&!t)return"zh-cn";return t}},601:function(e,t,n){"use strict";var r=n(42),o=n.n(r),a=n(24),i=n.n(a),c=n(25),s=n.n(c),u=n(14),l=n.n(u),f=n(26),h=n.n(f),d=n(2),g=n.n(d),p=1,v=2,S=4,m=8,T=16,y=v|S,b=m|T,E=y|b,_={time:251},P={threshold:10,velocity:.3};function C(e,t){return Math.sqrt(e*e+t*t)}function M(e,t){var n=Math.atan2(t,e);return 180/(Math.PI/n)}function O(){return Date.now()}function w(e){if(!(e.length<2)){var t=e[0],n=t.x,r=t.y,o=e[1],a=o.x-n,i=o.y-r;return{x:a,y:i,z:C(a,i),angle:M(a,i)}}}function x(e,t){return e+t[0].toUpperCase()+t.slice(1)}function k(e){var t=void 0;switch(e){case p:break;case v:t="left";break;case S:t="right";break;case m:t="up";break;case T:t="down"}return t}var G={all:E,vertical:b,horizontal:y},R=function(e){function t(e){i()(this,t);var n=l()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.triggerEvent=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var a=n.props[e];"function"===typeof a&&a.apply(void 0,[n.getGestureState()].concat(r))},n.triggerCombineEvent=function(e,t){for(var r=arguments.length,o=Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];n.triggerEvent.apply(n,[e].concat(o)),n.triggerSubEvent.apply(n,[e,t].concat(o))},n.triggerSubEvent=function(e,t){for(var r=arguments.length,o=Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];if(t){var i=x(e,t);n.triggerEvent.apply(n,[i].concat(o))}},n.triggerPinchEvent=function(e,t){for(var r=arguments.length,o=Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var i=n.gesture.scale;"move"===t&&"number"===typeof i&&(i>1&&n.triggerEvent("onPinchOut"),i<1&&n.triggerEvent("onPinchIn")),n.triggerCombineEvent.apply(n,[e,t].concat(o))},n.initPressTimer=function(){n.cleanPressTimer(),n.pressTimer=setTimeout(function(){n.setGestureState({press:!0}),n.triggerEvent("onPress")},_.time)},n.cleanPressTimer=function(){n.pressTimer&&clearTimeout(n.pressTimer)},n.setGestureState=function(e){n.gesture||(n.gesture={}),n.gesture.touches&&(n.gesture.preTouches=n.gesture.touches),n.gesture=o()({},n.gesture,e)},n.getGestureState=function(){return n.gesture?o()({},n.gesture):n.gesture},n.cleanGestureState=function(){delete n.gesture},n.getTouches=function(e){return Array.prototype.slice.call(e.touches).map(function(e){return{x:e.screenX,y:e.screenY}})},n.triggerUserCb=function(e,t){var r=x("onTouch",e);r in n.props&&n.props[r](t)},n._handleTouchStart=function(e){n.triggerUserCb("start",e),n.event=e,e.touches.length>1&&e.preventDefault(),n.initGestureStatus(e),n.initPressTimer(),n.checkIfMultiTouchStart()},n.initGestureStatus=function(e){n.cleanGestureState();var t=n.getTouches(e),r=O(),o=w(t);n.setGestureState({startTime:r,startTouches:t,startMutliFingerStatus:o,time:r,touches:t,mutliFingerStatus:o,srcEvent:n.event})},n.checkIfMultiTouchStart=function(){var e=n.props,t=e.enablePinch,r=e.enableRotate,o=n.gesture.touches;if(o.length>1&&(t||r)){if(t){var a=w(o);n.setGestureState({startMutliFingerStatus:a,pinch:!0,scale:1}),n.triggerCombineEvent("onPinch","start")}r&&(n.setGestureState({rotate:!0,rotation:0}),n.triggerCombineEvent("onRotate","start"))}},n._handleTouchMove=function(e){n.triggerUserCb("move",e),n.event=e,n.gesture&&(n.cleanPressTimer(),n.updateGestureStatus(e),n.checkIfSingleTouchMove(),n.checkIfMultiTouchMove())},n.checkIfMultiTouchMove=function(){var e=n.gesture,t=e.pinch,r=e.rotate,o=e.touches,a=e.startMutliFingerStatus,i=e.mutliFingerStatus;if(t||r){if(o.length<2)return n.setGestureState({pinch:!1,rotate:!1}),t&&n.triggerCombineEvent("onPinch","cancel"),void(r&&n.triggerCombineEvent("onRotate","cancel"));if(t){var c=i.z/a.z;n.setGestureState({scale:c}),n.triggerPinchEvent("onPinch","move")}if(r){var s=function(e,t){var n=e.angle;return t.angle-n}(a,i);n.setGestureState({rotation:s}),n.triggerCombineEvent("onRotate","move")}}},n.allowGesture=function(){return e=n.gesture.direction,!!(n.directionSetting&e);var e},n.checkIfSingleTouchMove=function(){var e=n.gesture,t=e.pan,r=e.touches,o=e.moveStatus,a=e.preTouches,i=e.availablePan,c=void 0===i||i;if(r.length>1)return n.setGestureState({pan:!1}),void(t&&n.triggerCombineEvent("onPan","cancel"));if(o&&c){var s=function(e,t){var n=e.x,r=e.y,o=t.x-n,a=t.y-r;return 0===o&&0===a?p:Math.abs(o)>=Math.abs(a)?o<0?v:S:a<0?m:T}(a[0],r[0]);n.setGestureState({direction:s});var u=k(s);if(!n.allowGesture())return void(t||n.setGestureState({availablePan:!1}));t?(n.triggerCombineEvent("onPan",u),n.triggerSubEvent("onPan","move")):(n.triggerCombineEvent("onPan","start"),n.setGestureState({pan:!0,availablePan:!0}))}},n.checkIfMultiTouchEnd=function(e){var t=n.gesture,r=t.pinch,o=t.rotate;r&&n.triggerCombineEvent("onPinch",e),o&&n.triggerCombineEvent("onRotate",e)},n.updateGestureStatus=function(e){var t=O();if(n.setGestureState({time:t}),e.touches&&e.touches.length){var r=n.gesture,o=r.startTime,a=r.startTouches,i=r.pinch,c=r.rotate,s=n.getTouches(e),u=function(e,t,n){var r=e[0],o=r.x,a=r.y,i=t[0],c=i.x-o,s=i.y-a,u=C(c,s);return{x:c,y:s,z:u,time:n,velocity:u/n,angle:M(c,s)}}(a,s,t-o),l=void 0;(i||c)&&(l=w(s)),n.setGestureState({touches:s,mutliFingerStatus:l,moveStatus:u})}},n._handleTouchEnd=function(e){n.triggerUserCb("end",e),n.event=e,n.gesture&&(n.cleanPressTimer(),n.updateGestureStatus(e),n.doSingleTouchEnd("end"),n.checkIfMultiTouchEnd("end"))},n._handleTouchCancel=function(e){n.triggerUserCb("cancel",e),n.event=e,n.gesture&&(n.cleanPressTimer(),n.updateGestureStatus(e),n.doSingleTouchEnd("cancel"),n.checkIfMultiTouchEnd("cancel"))},n.triggerAllowEvent=function(e,t){n.allowGesture()?n.triggerCombineEvent(e,t):n.triggerSubEvent(e,t)},n.doSingleTouchEnd=function(e){var t=n.gesture,r=t.moveStatus,o=t.pinch,a=t.rotate,i=t.press,c=t.pan,s=t.direction;if(!o&&!a){if(r){var u=function(e,t){return Math.abs(e)>=P.threshold&&Math.abs(t)>P.velocity}(r.z,r.velocity);if(n.setGestureState({swipe:u}),c&&n.triggerAllowEvent("onPan",e),u){var l=k(s);return void n.triggerAllowEvent("onSwipe",l)}}i?n.triggerEvent("onPressUp"):n.triggerEvent("onTap")}},n.getTouchAction=function(){var e=n.props,t=e.enablePinch,r=e.enableRotate,o=n.directionSetting;return t||r||o===E?"pan-x pan-y":o===b?"pan-x":o===y?"pan-y":"auto"},n.directionSetting=G[e.direction],n}return h()(t,e),s()(t,[{key:"componentWillUnmount",value:function(){this.cleanPressTimer()}},{key:"render",value:function(){var e=this.props.children,t=g.a.Children.only(e),n=this.getTouchAction(),r={onTouchStart:this._handleTouchStart,onTouchMove:this._handleTouchMove,onTouchCancel:this._handleTouchCancel,onTouchEnd:this._handleTouchEnd};return g.a.cloneElement(t,o()({},r,{style:o()({touchAction:n},t.props.style||{})}))}}]),t}(d.Component);t.a=R;R.defaultProps={enableRotate:!1,enablePinch:!1,direction:"all"}},628:function(e,t,n){},630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={activateText:"\u677e\u5f00\u7acb\u5373\u5237\u65b0",deactivateText:"\u4e0b\u62c9\u53ef\u4ee5\u5237\u65b0",finishText:"\u5b8c\u6210\u5237\u65b0"},e.exports=t.default},792:function(e,t,n){"use strict";n.r(t);var r=n(42),o=n.n(r),a=n(24),i=n.n(a),c=n(25),s=n.n(c),u=n(14),l=n.n(u),f=n(26),h=n.n(f),d=n(2),g=n.n(d),p=n(43),v=n.n(p),S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},m=function(e){function t(){return i()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h()(t,e),s()(t,[{key:"shouldComponentUpdate",value:function(e){return e.shouldUpdate}},{key:"render",value:function(){return g.a.createElement("div",null,this.props.render())}}]),t}(g.a.Component);var T="undefined"!==typeof navigator&&/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),y="down",b="up",E={activate:"release",deactivate:"pull",release:"loading",finish:"finish"},_=!1;try{var P=Object.defineProperty({},"passive",{get:function(){_=!0}});window.addEventListener("test",null,P)}catch(w){}var C=!!_&&{passive:!1},M=function(e){function t(){i()(this,t);var e=l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={currSt:"deactivate",dragOnEdge:!1},e._isMounted=!1,e.shouldUpdateChildren=!1,e.triggerPullToRefresh=function(){!e.state.dragOnEdge&&e._isMounted&&(e.props.refreshing?(e.props.direction===b&&(e._lastScreenY=-e.props.distanceToRefresh-1),e.props.direction===y&&(e._lastScreenY=e.props.distanceToRefresh+1),e.setState({currSt:"release"},function(){return e.setContentStyle(e._lastScreenY)})):e.setState({currSt:"finish"},function(){return e.reset()}))},e.init=function(t){t&&(e._to={touchstart:e.onTouchStart.bind(e,t),touchmove:e.onTouchMove.bind(e,t),touchend:e.onTouchEnd.bind(e,t),touchcancel:e.onTouchEnd.bind(e,t)},Object.keys(e._to).forEach(function(n){t.addEventListener(n,e._to[n],C)}))},e.destroy=function(t){e._to&&t&&Object.keys(e._to).forEach(function(n){t.removeEventListener(n,e._to[n])})},e.onTouchStart=function(t,n){e._ScreenY=e._startScreenY=n.touches[0].screenY,e._lastScreenY=e._lastScreenY||0},e.isEdge=function(t,n){var r=e.props.getScrollContainer();if(r&&r===document.body){var o=document.scrollingElement?document.scrollingElement:document.body;if(n===b)return o.scrollHeight-o.scrollTop<=window.innerHeight;if(n===y)return o.scrollTop<=0}return n===b?t.scrollHeight-t.scrollTop===t.clientHeight:n===y?t.scrollTop<=0:void 0},e.damping=function(t){return Math.abs(e._lastScreenY)>e.props.damping?0:t*=.6*(1-Math.abs(e._ScreenY-e._startScreenY)/window.screen.height)},e.onTouchMove=function(t,n){var r=n.touches[0].screenY,o=e.props.direction;if(!(o===b&&e._startScreenY<r||o===y&&e._startScreenY>r)&&e.isEdge(t,o)){e.state.dragOnEdge||(e._ScreenY=e._startScreenY=n.touches[0].screenY,e.setState({dragOnEdge:!0})),n.preventDefault();var a=Math.round(r-e._ScreenY);e._ScreenY=r,e._lastScreenY+=e.damping(a),e.setContentStyle(e._lastScreenY),Math.abs(e._lastScreenY)<e.props.distanceToRefresh?"deactivate"!==e.state.currSt&&e.setState({currSt:"deactivate"}):"deactivate"===e.state.currSt&&e.setState({currSt:"activate"}),T&&n.changedTouches[0].clientY<0&&e.onTouchEnd()}},e.onTouchEnd=function(){e.state.dragOnEdge&&e.setState({dragOnEdge:!1}),"activate"===e.state.currSt?(e.setState({currSt:"release"}),e._timer=setTimeout(function(){e.props.refreshing||e.setState({currSt:"finish"},function(){return e.reset()}),e._timer=void 0},1e3),e.props.onRefresh()):e.reset()},e.reset=function(){e._lastScreenY=0,e.setContentStyle(0)},e.setContentStyle=function(t){var n,r;e.contentRef&&(n=e.contentRef.style,r="translate3d(0px,"+t+"px,0)",n.transform=r,n.webkitTransform=r,n.MozTransform=r)},e}return h()(t,e),s()(t,[{key:"shouldComponentUpdate",value:function(e){return this.shouldUpdateChildren=this.props.children!==e.children,!0}},{key:"componentDidUpdate",value:function(e){e!==this.props&&e.refreshing!==this.props.refreshing&&this.triggerPullToRefresh()}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.init(e.props.getScrollContainer()||e.containerRef),e.triggerPullToRefresh(),e._isMounted=!0})}},{key:"componentWillUnmount",value:function(){this.destroy(this.props.getScrollContainer()||this.containerRef)}},{key:"render",value:function(){var e=this,t=o()({},this.props);delete t.damping;var n=t.className,r=t.prefixCls,a=t.children,i=t.getScrollContainer,c=t.direction,s=(t.onRefresh,t.refreshing,t.indicator),u=(t.distanceToRefresh,S(t,["className","prefixCls","children","getScrollContainer","direction","onRefresh","refreshing","indicator","distanceToRefresh"])),l=g.a.createElement(m,{shouldUpdate:this.shouldUpdateChildren,render:function(){return a}}),f=function(t){var n=v()(t,!e.state.dragOnEdge&&r+"-transition");return g.a.createElement("div",{className:r+"-content-wrapper"},g.a.createElement("div",{className:n,ref:function(t){return e.contentRef=t}},c===b?l:null,g.a.createElement("div",{className:r+"-indicator"},s[e.state.currSt]||E[e.state.currSt]),c===y?l:null))};return i()?f(r+"-content "+r+"-"+c):g.a.createElement("div",o()({ref:function(t){return e.containerRef=t},className:v()(n,r,r+"-"+c)},u),f(r+"-content"))}}]),t}(g.a.Component),O=M;M.defaultProps={prefixCls:"rmc-pull-to-refresh",getScrollContainer:function(){},direction:y,distanceToRefresh:25,damping:100,indicator:E};t.default=O}}]);
//# sourceMappingURL=6.b2f22b21.chunk.js.map