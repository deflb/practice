webpackJsonp([122],{2182:function(e,t,a){var i=a(2183);"string"===typeof i&&(i=[[e.i,i,""]]);var n={};n.transform=void 0;a(855)(i,n);i.locals&&(e.exports=i.locals)},2183:function(e,t,a){t=e.exports=a(854)(!0),t.push([e.i,"._1QQzazJBW6ZenDhAPbSqgR{padding:8px}._1QQzazJBW6ZenDhAPbSqgR ._1hs437KZ6cg1J5mb0YYFS0{border:1px solid #ccc}._1QQzazJBW6ZenDhAPbSqgR ._378HXkRPo3Kw1fU1C01Mz_{font-weight:700;font-size:24px}._1QQzazJBW6ZenDhAPbSqgR ._1JDoWCVv-K7bU-Hd8XMizv{width:120px;height:100px;float:left;margin-left:8px;overflow:hidden;border:1px solid #ccc}._1QQzazJBW6ZenDhAPbSqgR ._1JDoWCVv-K7bU-Hd8XMizv img{width:100%}._1QQzazJBW6ZenDhAPbSqgR ._2-NZsZuZdiMsivNkSnZlSe:hover{color:#108ee9}._1QQzazJBW6ZenDhAPbSqgR ._3PsZubOpSc9X4GeGs4SiND{color:#333}._1QQzazJBW6ZenDhAPbSqgR ._3J1tCiN1659m9D9JIF5yzx{background-color:#e2e3e4;padding:16px}","",{version:3,sources:["E:/sf/src/view/designMaterialMaintain/designDetail.less"],names:[],mappings:"AAAA,yBACE,WAAa,CACd,AACD,kDACE,qBAAuB,CACxB,AACD,kDACE,gBAAkB,AAClB,cAAgB,CACjB,AACD,kDACE,YAAa,AACb,aAAc,AACd,WAAY,AACZ,gBAAiB,AACjB,gBAAiB,AACjB,qBAAuB,CACxB,AACD,sDACE,UAAY,CACb,AACD,wDACE,aAAe,CAChB,AACD,kDACE,UAAY,CACb,AACD,kDACE,yBAA0B,AAC1B,YAAc,CACf",file:"designDetail.less",sourcesContent:[".designDetail {\n  padding: 8px;\n}\n.designDetail .border-1 {\n  border: 1px solid #ccc;\n}\n.designDetail .blod {\n  font-weight: bold;\n  font-size: 24px;\n}\n.designDetail .imgBox {\n  width: 120px;\n  height: 100px;\n  float: left;\n  margin-left: 8px;\n  overflow: hidden;\n  border: 1px solid #ccc;\n}\n.designDetail .imgBox img {\n  width: 100%;\n}\n.designDetail .iconlr:hover {\n  color: #108ee9;\n}\n.designDetail .color-ccc {\n  color: #333;\n}\n.designDetail .pale_h2 {\n  background-color: #e2e3e4;\n  padding: 16px;\n}\n"],sourceRoot:""}]),t.locals={designDetail:"_1QQzazJBW6ZenDhAPbSqgR","border-1":"_1hs437KZ6cg1J5mb0YYFS0",blod:"_378HXkRPo3Kw1fU1C01Mz_",imgBox:"_1JDoWCVv-K7bU-Hd8XMizv",iconlr:"_2-NZsZuZdiMsivNkSnZlSe","color-ccc":"_3PsZubOpSc9X4GeGs4SiND",pale_h2:"_3J1tCiN1659m9D9JIF5yzx"}},940:function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{BreadList:e.BreadList,RouterHeight:e.RouterHeight,Userinfo:e.CdsUserInfo,UrlInitState:e.UrlInitState}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(206),s=(a.n(o),a(207)),c=a.n(s),d=a(135),p=(a.n(d),a(49)),f=a.n(p),m=a(130),g=(a.n(m),a(131)),u=a.n(g),h=a(132),A=(a.n(h),a(133)),b=a.n(A),C=a(72),v=(a.n(C),a(56)),y=a.n(v),D=a(315),x=(a.n(D),a(316)),E=a.n(x),B=a(1),_=a.n(B),S=a(84),U=a(87),w=a(96),z=a(2182),k=a.n(z),Z=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),P=function(e){E.a.error(e)},N=function(e){function t(e){i(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.detail=function(){var e=a.props,t=e.history,i=e.location,n=e.dispatch,l=e.BreadList,r=t.push,o=i.pathname,s=a.props.location.state;if(s){var c=s.id;n({type:"ADD_BREADLIST",name:"\u4fee\u6539\u8bbe\u8ba1\u7d20\u6750",url:o+"Edit",funid:l.active.funid}),n(Object(U._5)("/designImgDetail",a.state)),r({pathname:"/designMaterialMaintainManageEdit",state:{id:c,imgUrl:a.state.imgUrl}})}},a.move=function(e){var t=a.state.left;if("left"==e){if(Math.ceil(a.state.left/128)>=0)return;t+=256}else if("right"==e){if(Math.ceil(-a.state.left/128)>=a.state.imgUrlList.length-2)return;t-=256}a.setState({left:t})},a.getCarousel=function(){var e=Object.assign({},a.state.data);return a.state.imgUrlList.map(function(t,i){return _.a.createElement("div",{className:k.a.imgBox,key:i+"imgBox",style:{border:i==a.state.activeKey?"2px solid #f00":"1px solid #ccc",cursor:"pointer"}},_.a.createElement("img",{src:S.h+t,onClick:function(){e.firstUrl=t,a.setState({data:e,activeKey:i})}}))})},a.getDetailById=function(){var e=a.props.location.state;if(e){var t=e.id;t&&Object(S.c)("/case/material/getInfoMaterialDetail",{id:t},function(e){if(0===e.data.msgcode){var t=e.data.data;t.firstUrl=t.imgUrlList[0],a.setState({data:t,imgUrlList:t.imgUrlList,imgUrl:t.imgUrl})}else P(e.data.data)})}},a.open=function(e){a.setState({modalView:!0,modalUrl:e.url,modalTitle:e.title})},a.state={data:{},imgUrlList:[],activeKey:0,left:0,imgUrl:""},a}return l(t,e),Z(t,[{key:"componentDidMount",value:function(){this.getDetailById();var e=this.props.UrlInitState,t=e["/designImgDetail"];t&&this.setState(t)}},{key:"getHeight",value:function(){var e=this.props.RouterHeight.Height;return-1===e&&(e=document.getElementsByClassName("routercontent")[0].clientHeight),e-20}},{key:"render",value:function(){var e=this,t=this.state.data;return _.a.createElement("div",{className:k.a.designDetail,style:{height:this.getHeight()+"px",overflowY:"scroll"}},_.a.createElement(b.a,{className:"mb-16"},_.a.createElement(y.a,{type:"primary",onClick:this.detail},"\u7f16\u8f91")),_.a.createElement(b.a,{className:"mb-16",style:{position:"relative"}},_.a.createElement(u.a,{span:13},_.a.createElement(u.a,{className:k.a["border-1"]+" mb-8",style:{position:"relative",minHeight:"360px"}},t.firstUrl?_.a.createElement("img",{src:S.h+t.firstUrl,height:"360px",style:{display:"block",margin:"0 auto"}}):null,_.a.createElement("div",{className:"cursor-pointer",style:{position:"absolute",left:0,bottom:0,textAlign:"center",color:"#fff",opacity:.8,background:"#ccc",width:"100px",lineHeight:"30px"},onClick:this.open.bind(this,{url:t.firstUrl,title:"\u6548\u679c\u56fe"})},"\u5168\u5c4f\u67e5\u770b")),_.a.createElement(u.a,null,_.a.createElement(u.a,{span:6},t.surfacePlotUrl?_.a.createElement("img",{src:S.h+t.surfacePlotUrl,height:"100px",style:{border:-1===this.state.activeKey?"2px solid #f00":"1px solid #ccc",display:"block",margin:"0 auto",cursor:"pointer"},onClick:function(){t.firstUrl=t.surfacePlotUrl,e.setState({data:t,activeKey:-1})}}):null),_.a.createElement(u.a,{span:1,className:k.a.iconlr,onClick:this.move.bind(this,"left")},_.a.createElement(f.a,{type:"left",style:{fontSize:"32px",lineHeight:"100px"}})),_.a.createElement(u.a,{span:16,style:{position:"relative",overflow:"hidden",height:"100px"}},_.a.createElement("div",{style:{position:"absolute",top:0,left:this.state.left+"px",display:"flex",flexWrap:"no-wrap"}},this.getCarousel())),_.a.createElement(u.a,{span:1,className:k.a.iconlr,onClick:this.move.bind(this,"right")},_.a.createElement(f.a,{type:"right",style:{fontSize:"32px",lineHeight:"100px"}})))),_.a.createElement(u.a,{offset:1,span:10},_.a.createElement(b.a,{className:k.a.blod+" mb-16"},_.a.createElement("p",null,t.name)),_.a.createElement(b.a,{className:k.a["color-ccc"]},_.a.createElement("p",null,"\u7c7b\u522b :\u2003 ",t.typename)))),_.a.createElement(b.a,{className:k.a.pale_h2+" mb-8"},_.a.createElement("h2",null,"\u8bbe\u8ba1\u7d20\u6750\u8be6\u60c5")),_.a.createElement(b.a,{ref:"details",id:"part_details"},_.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.details}})),_.a.createElement(c.a,{maskClosable:!1,title:this.state.modalTitle,visible:this.state.modalView,width:"80%",zIndex:2e3,footer:null,onCancel:function(){e.setState({modalView:!1})}},_.a.createElement("img",{src:S.h+this.state.modalUrl,width:"100%"})))}}]),t}(B.Component);t.default=Object(w.b)(r)(N)}});