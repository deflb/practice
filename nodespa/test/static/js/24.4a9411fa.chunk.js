(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{528:function(e,t,a){"use strict";a(539);var n=a(540),l=a.n(n),c=a(525),r=a(2),o=a.n(r),i=a(529),s=a.n(i);t.a=function(e){var t=Object(c.a)({},e),a=t.className,n=void 0===a?null:a;return o.a.createElement(l.a,Object.assign({size:"lg"},t,{className:n?"".concat(s.a.wrapper," ").concat(n):s.a.wrapper}))}},529:function(e,t,a){e.exports={wrapper:"index_wrapper__g-gQ9"}},563:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(84),l=a(85),c=a(87),r=a(86),o=a(88),i=a(2),s=a.n(i),m=a(564),u=a.n(m),p=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.className,n=void 0===a?null:a,l=e.style,c=void 0===l?null:l;return s.a.createElement("ul",{className:n?"".concat(u.a.infoList," ").concat(n):u.a.infoList,style:c},t.map(function(e){return s.a.createElement("li",{style:{width:e.span?"".concat(e.span/24*100,"%"):null},key:e.label},s.a.createElement("div",{className:u.a.item},s.a.createElement("span",{className:u.a.label},e.label),s.a.createElement("span",{className:u.a.value},e.value)))}))}}]),t}(s.a.Component);p.defaultProps={data:[]}},564:function(e,t,a){e.exports={infoList:"index_infoList__1pE5V",item:"index_item__3odt1",label:"index_label__2B1XT",value:"index_value__1Oi2M"}},566:function(e,t,a){"use strict";a.d(t,"a",function(){return d});a(551);var n=a(552),l=a.n(n),c=a(84),r=a(85),o=a(87),i=a(86),s=a(88),m=a(2),u=a.n(m),p={width:"24px",height:"4px",borderRadius:"unset"},d=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.source;return u.a.createElement(l.a,{autoplay:!1,infinite:!0,dotStyle:p,dotActiveStyle:p,className:"carousel_common"},e.map(function(e){return u.a.createElement("span",{key:e,className:"carousel_common_item"},u.a.createElement("img",{src:e,alt:"",onLoad:function(){window.dispatchEvent(new Event("resize"))}}))}))}}]),t}(m.Component);d.defaultProps={source:[]}},567:function(e,t,a){"use strict";var n=a(84),l=a(85),c=a(87),r=a(86),o=a(88),i=a(2),s=a.n(i),m=a(33),u=a.n(m),p=a(39),d=a(568),f=a.n(d);t.a=function(e){var t,a;return a=t=function(t){function a(){var t,l;Object(n.a)(this,a);for(var o=arguments.length,i=new Array(o),m=0;m<o;m++)i[m]=arguments[m];return(l=Object(c.a)(this,(t=Object(r.a)(a)).call.apply(t,[this].concat(i)))).renderModal=function(){u.a.render(s.a.createElement("div",{className:f.a.wrapper},s.a.createElement(e,l.props)),l.modal)},l}return Object(o.a)(a,t),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.modal=document.createElement("div"),document.body.appendChild(this.modal),this.renderModal()}},{key:"componentWillUnmount",value:function(){u.a.unmountComponentAtNode(this.modal),document.body.removeChild(this.modal)}},{key:"render",value:function(){return null}}]),a}(i.Component),t.displayName="HOC".concat(Object(p.d)(e)),a}},568:function(e,t,a){e.exports={wrapper:"index_wrapper__3gBVK"}},763:function(e,t,a){e.exports={wrapper:"index_wrapper__37Eiu",wrapper_box:"index_wrapper_box__GJA8v",wrapper_box_input:"index_wrapper_box_input__3k-MO",wrapper_box_operate:"index_wrapper_box_operate__ITX6G"}},768:function(e,t,a){e.exports={wrapper:"detail_wrapper__1Jtzh",wrapper_body:"detail_wrapper_body__3aNvC",title:"detail_title__12htH",des:"detail_des__2isJi",comment_list_header:"detail_comment_list_header__2SbJW",user_avatar:"detail_user_avatar__2T6vd",comment_reply_list:"detail_comment_reply_list__2ZwDo",wrapper_comment:"detail_wrapper_comment__zigCH"}},806:function(e,t,a){"use strict";a.r(t);a(532);var n,l,c=a(533),r=a.n(c),o=(a(222),a(115)),i=a.n(o),s=a(541),m=(a(544),a(545)),u=a.n(m),p=a(84),d=a(85),f=a(87),_=a(86),b=a(88),v=a(2),h=a.n(v),E=a(90),y=a(563),g=a(528),w=(a(595),a(598)),N=a.n(w),O=(a(549),a(550)),j=a.n(O),C=a(553),S=a(763),x=a.n(S),L=j.a.alert,k=Object(C.a)()((l=n=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(l)))).send=function(){var e=a.props,t=e.form,n=e.onSend;t.validateFields(function(e,t){e||L("\u63d0\u793a","\u786e\u8ba4\u53d1\u9001?",[{text:"\u53d6\u6d88"},{text:"\u786e\u8ba4",onPress:function(){n(t.content)}}])})},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form,a=e.visible,n=e.onClose,l=e.config,c=t.getFieldProps;return a?h.a.createElement("div",{className:x.a.wrapper,onClick:function(e){e.stopPropagation(),n()}},h.a.createElement("div",{className:x.a.wrapper_box,onClick:function(e){e.stopPropagation()}},h.a.createElement(N.a,Object.assign({className:x.a.wrapper_box_input,autoFocus:!0},c("content",{rules:[{required:!0}]}),{rows:3,count:100},l)),h.a.createElement("div",{onClick:this.send,className:x.a.wrapper_box_operate},"\u53d1\u9001"))):null}}]),t}(v.Component),n.defaultProps={visible:!1,onClose:function(){},onSend:function(){},config:{}},l)),I=a(546),B=a(566),D=a(567),z=a(65),M=a(50),R=a(159),V=a(768),F=a.n(V),H=a(39);t.default=Object(E.b)(function(e){return{userInfo:e.userInfo}})(Object(D.a)(function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(l)))).state={pageNo:1,pageSize:10,hasMore:!0,commentListBlobs:[],commentListSource:new u.a.DataSource({rowHasChanged:function(e,t){return e!==t}}),isLoading:!1,height:0,detail:{},commentVisible:!1,replyVisible:!1},a.getCommentList=function(){var e=a.state,t=e.pageNo,n=e.pageSize,l=e.commentListBlobs,c=e.commentListSource,r=a.props.location.state;a.setState({isLoading:!0}),Object(z.a)({url:M.a.pageCommentList,data:{caseId:r.id,pageNo:t,pageSize:n}}).then(function(e){var t=e.list,n=e.pageTurn,r=n.nextPage,o=n.rowCount,i=Object(s.a)(l).concat(Object(s.a)(t));a.setState({height:i.length?1===i.length?140:300:45,commentListBlobs:i,hasMore:!(i.length>=o),pageNo:r,commentListSource:c.cloneWithRows(i),isLoading:!1})}).catch(function(e){a.setState({isLoading:!1})})},a.saveComment=function(e){var t=a.props,n=t.location,l=t.userInfo,c=n.state;Object(z.a)({url:M.a.saveComment,data:{caseId:c.id,content:e}}).then(function(t){i.a.success("\u8bc4\u4ef7\u6210\u529f!",.7);var n=a.state,c=n.commentListBlobs,r=n.commentListSource,o=[{content:e,createTime:(new Date).getTime(),creator:"mt_admin",id:t,replyList:null,timeString:"\u521a\u521a",userInfo:l}].concat(Object(s.a)(c));a.setState({commentVisible:!1,commentListBlobs:o,commentListSource:r.cloneWithRows(o)})}).catch(function(e){})},a.saveCommentReply=function(e){var t=a.state.replyItemInfo,n=t.commentId,l=t.replyUserId,c=t.index,r=t.replyUser;Object(z.a)({url:M.a.saveCommentReply,data:{commentId:n,replyUserId:l,content:e}}).then(function(t){i.a.success("\u56de\u590d\u6210\u529f!",.7);var n=a.state,l=n.commentListBlobs,o=n.commentListSource,m=(new Date).getTime(),u=l[c],p=u.replyList;u.replyList=p?Object(s.a)(p).concat([{id:m,replyUser:r,user:"\u7ba1\u7406\u5458",content:e}]):[{id:m,replyUser:r,user:"\u7ba1\u7406\u5458",content:e}],a.setState({replyVisible:!1,commentListSource:o.cloneWithRows(JSON.parse(JSON.stringify(l)))})}).catch(function(e){})},a.getDetail=function(e){Object(z.a)({url:M.a.caseDetail,data:{id:e}}).then(function(e){a.setState({detail:e})}).catch(function(e){})},a.collect=function(e,t){Object(z.a)({url:M.a.saveCollects,data:{id:e,status:t}}).then(function(t){i.a.success(t,.7),a.getDetail(e)}).catch(function(e){})},a.onEndReached=function(e){var t=a.state,n=t.isLoading,l=t.hasMore;!n&&l&&a.getCommentList()},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state;this.getDetail(e.id),this.getCommentList()}},{key:"render",value:function(){var e=this,t=this.state,a=t.detail,n=t.commentListBlobs,l=t.commentListSource,c=t.height,o=t.commentVisible,i=t.replyVisible,s=this.props.location.state,m=a.title,p=a.effectImageUrlList,d=void 0===p?[]:p,f=a.remark,_=a.creator,b=a.createTime,v=a.content,E=a.areaName,w=a.houseName,N=a.priceName,O=a.spaceName,j=a.styleName,C=a.collects,S=a.comments,x=a.flagLike,L=a.likes,D=a.views;return h.a.createElement("div",{className:F.a.wrapper},h.a.createElement("div",{className:F.a.wrapper_body},h.a.createElement(B.a,{source:d.map(function(e){return R.d+e})}),h.a.createElement(r.a,{full:!0},h.a.createElement(r.a.Header,{title:h.a.createElement("div",{className:F.a.title},h.a.createElement("div",null,m),h.a.createElement("div",{onClick:this.collect.bind(this,s.id,1===x?0:1),style:{color:x?"#FFCC33":null}},h.a.createElement("i",{className:"iconfont icon-collect"}),h.a.createElement("div",null,x?"\u53d6\u6d88\u6536\u85cf":"\u6536\u85cf")))}),h.a.createElement(r.a.Body,null,h.a.createElement("div",{className:"textFontSizeC"},h.a.createElement("div",{className:F.a.des},h.a.createElement("ul",null,h.a.createElement("li",null,_),h.a.createElement("li",null,Object(H.b)(new Date(b),"YY-MM-DD"))),h.a.createElement("div",null,f)),h.a.createElement(y.a,{data:[{label:"\u9762\u79ef",value:E,span:12},{label:"\u6237\u578b",value:w,span:12},{label:"\u4ef7\u4f4d",value:N,span:12},{label:"\u7a7a\u95f4\u540d\u79f0",value:O,span:12},{label:"\u98ce\u683c",value:j,span:12}]})))),h.a.createElement(g.a,null),h.a.createElement(r.a,{full:!0},h.a.createElement(r.a.Header,{title:"\u8be6\u60c5"}),h.a.createElement(r.a.Body,null,h.a.createElement("div",{dangerouslySetInnerHTML:{__html:v},style:{overflow:"auto"}}))),h.a.createElement(g.a,null),h.a.createElement(r.a,{full:!0},h.a.createElement(r.a.Header,{title:"\u8bc4\u4ef7"}),h.a.createElement(r.a.Body,null,h.a.createElement(u.a,{className:"list_view_maybe_comon",dataSource:l,renderHeader:function(){return n.length?null:h.a.createElement(I.a,null)},renderRow:function(t,a,n){var l=t.userInfo,c=void 0===l?{}:l,o=c.avatar,i=c.nickName,s=c.name,m=t.replyList||[];return h.a.createElement(r.a,{key:t.id,full:!0},h.a.createElement(r.a.Header,{className:F.a.comment_list_header,title:h.a.createElement("ul",null,h.a.createElement("li",{className:"normalFontSizeC"},i||s),h.a.createElement("li",{className:"textFontSizeC shallowGreyColor"},Number(n)+1,"\u697c ",t.timeString)),thumb:h.a.createElement("div",{className:F.a.user_avatar},o?h.a.createElement("img",{src:R.d+o,alt:""}):null),extra:h.a.createElement("span",{className:"normalFontSizeC",onClick:function(a){e.setState({replyVisible:!0,replyItemInfo:{commentId:t.id,replyUserId:c.id,index:n,replyUser:c.nickName}})}},"\u56de\u590d")}),h.a.createElement(r.a.Body,null,h.a.createElement("ul",{className:"normalFontSizeC"},h.a.createElement("li",{style:{wordBreak:"break-all"}},t.content),h.a.createElement("li",{className:F.a.comment_reply_list},h.a.createElement("ul",null,m.map(function(e){return h.a.createElement("li",{key:e.id},h.a.createElement("span",null,e.user),"\uff1a",h.a.createElement("span",null,"@",e.replyUser)," ",e.content)}))))))},style:{height:c},onEndReached:this.onEndReached,onEndReachedThreshold:30}))),h.a.createElement(k,{visible:i,onClose:function(){e.setState({replyVisible:!1})},onSend:this.saveCommentReply,config:{placeholder:"\u5199\u56de\u590d"}})),h.a.createElement("div",{className:F.a.wrapper_comment},h.a.createElement("div",{onClick:function(t){e.setState({commentVisible:!0})}},"\u4e0d\u5199\u70b9\u4ec0\u4e48\u5417\uff1f",h.a.createElement(k,{visible:o,onClose:function(){e.setState({commentVisible:!1})},onSend:this.saveComment,config:{placeholder:"\u5199\u8bc4\u8bba"}})),h.a.createElement("ul",null,h.a.createElement("li",null,h.a.createElement("i",{className:"iconfont icon-chakan"}),D),h.a.createElement("li",null,h.a.createElement("i",{className:"iconfont icon-collect"}),C),h.a.createElement("li",null,h.a.createElement("i",{className:"iconfont icon-i-good"}),L),h.a.createElement("li",null,h.a.createElement("i",{className:"iconfont icon-xiaoxi"}),S))))}}]),t}(v.Component)))}}]);
//# sourceMappingURL=24.4a9411fa.chunk.js.map