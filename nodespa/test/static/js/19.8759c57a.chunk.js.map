{"version":3,"sources":["../node_modules/antd-mobile/lib/card/style/index.js","../node_modules/antd-mobile/lib/card/index.js","../node_modules/antd-mobile/lib/card/CardBody.js","../node_modules/antd-mobile/lib/card/CardFooter.js","../node_modules/antd-mobile/lib/card/CardHeader.js","view/personalCenter/message/index.js","view/personalCenter/message/index.less"],"names":["__webpack_require__","Object","defineProperty","exports","value","_extends3","_interopRequireDefault","_defineProperty3","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames3","_react2","_CardBody2","_CardFooter2","_CardHeader2","obj","__esModule","default","__rest","s","e","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","Card","_React$Component","this","__proto__","getPrototypeOf","apply","arguments","key","_a","props","prefixCls","full","className","resetProps","wrapCls","createElement","Component","defaultProps","Header","Body","Footer","module","_classnames2","CardBody","restProps","CardFooter","content","extra","CardHeader","title","thumb","thumbStyle","style","src","Detail","asyncC","then","bind","message","state","pageNo","pageSize","hasMore","dataBlobs","dataSource","antd_mobile_lib_list_view__WEBPACK_IMPORTED_MODULE_5___default","a","DataSource","rowHasChanged","row1","row2","isLoading","height","getMessages","_this$state","_this","setState","request","url","api","data","res","list","pageTurn","nextPage","rowCount","_dataBlobs","E_mtzzh_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__","concat","cloneWithRows","catch","err","onEndReached","event","_this$state2","goToDetail","rowData","index","isRead","updateMessageRead","msgId","_this$state3","currentRow","E_mtzzh_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","splice","_this$props","history","match","push","pathname","path","hei","document","documentElement","clientHeight","ReactDOM","findDOMNode","lv","getBoundingClientRect","top","_this2","_this$state4","react__WEBPACK_IMPORTED_MODULE_11___default","ref","el","renderRow","item","sectionID","styles","message_time","formatDate","Date","msgDate","antd_mobile_lib_card__WEBPACK_IMPORTED_MODULE_1___default","message_content","msgTitle","message_content_noread","message_content_isread","msgContent","message_content_view","onClick","onEndReachedThreshold","react_router__WEBPACK_IMPORTED_MODULE_13__","component"],"mappings":"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","file":"static/js/19.8759c57a.chunk.js","sourcesContent":["'use strict';\n\nrequire('../../style/');\n\nrequire('./index.less');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames2 = require('classnames');\n\nvar _classnames3 = _interopRequireDefault(_classnames2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _CardBody = require('./CardBody');\n\nvar _CardBody2 = _interopRequireDefault(_CardBody);\n\nvar _CardFooter = require('./CardFooter');\n\nvar _CardFooter2 = _interopRequireDefault(_CardFooter);\n\nvar _CardHeader = require('./CardHeader');\n\nvar _CardHeader2 = _interopRequireDefault(_CardHeader);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar Card = function (_React$Component) {\n  (0, _inherits3['default'])(Card, _React$Component);\n\n  function Card() {\n    (0, _classCallCheck3['default'])(this, Card);\n    return (0, _possibleConstructorReturn3['default'])(this, (Card.__proto__ || Object.getPrototypeOf(Card)).apply(this, arguments));\n  }\n\n  (0, _createClass3['default'])(Card, [{\n    key: 'render',\n    value: function render() {\n      var _a = this.props,\n          prefixCls = _a.prefixCls,\n          full = _a.full,\n          className = _a.className,\n          resetProps = __rest(_a, [\"prefixCls\", \"full\", \"className\"]);\n\n      var wrapCls = (0, _classnames3['default'])(prefixCls, className, (0, _defineProperty3['default'])({}, prefixCls + '-full', full));\n      return _react2['default'].createElement('div', (0, _extends3['default'])({\n        className: wrapCls\n      }, resetProps));\n    }\n  }]);\n  return Card;\n}(_react2['default'].Component);\n\nexports['default'] = Card;\nCard.defaultProps = {\n  prefixCls: 'am-card',\n  full: false\n};\nCard.Header = _CardHeader2['default'];\nCard.Body = _CardBody2['default'];\nCard.Footer = _CardFooter2['default'];\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar CardBody = function (_React$Component) {\n  (0, _inherits3['default'])(CardBody, _React$Component);\n\n  function CardBody() {\n    (0, _classCallCheck3['default'])(this, CardBody);\n    return (0, _possibleConstructorReturn3['default'])(this, (CardBody.__proto__ || Object.getPrototypeOf(CardBody)).apply(this, arguments));\n  }\n\n  (0, _createClass3['default'])(CardBody, [{\n    key: 'render',\n    value: function render() {\n      var _a = this.props,\n          prefixCls = _a.prefixCls,\n          className = _a.className,\n          restProps = __rest(_a, [\"prefixCls\", \"className\"]);\n\n      var wrapCls = (0, _classnames2['default'])(prefixCls + '-body', className);\n      return _react2['default'].createElement('div', (0, _extends3['default'])({\n        className: wrapCls\n      }, restProps));\n    }\n  }]);\n  return CardBody;\n}(_react2['default'].Component);\n\nexports['default'] = CardBody;\nCardBody.defaultProps = {\n  prefixCls: 'am-card'\n};\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar CardFooter = function (_React$Component) {\n  (0, _inherits3['default'])(CardFooter, _React$Component);\n\n  function CardFooter() {\n    (0, _classCallCheck3['default'])(this, CardFooter);\n    return (0, _possibleConstructorReturn3['default'])(this, (CardFooter.__proto__ || Object.getPrototypeOf(CardFooter)).apply(this, arguments));\n  }\n\n  (0, _createClass3['default'])(CardFooter, [{\n    key: 'render',\n    value: function render() {\n      var _a = this.props,\n          prefixCls = _a.prefixCls,\n          content = _a.content,\n          className = _a.className,\n          extra = _a.extra,\n          restProps = __rest(_a, [\"prefixCls\", \"content\", \"className\", \"extra\"]);\n\n      var wrapCls = (0, _classnames2['default'])(prefixCls + '-footer', className);\n      return _react2['default'].createElement('div', (0, _extends3['default'])({\n        className: wrapCls\n      }, restProps), _react2['default'].createElement('div', {\n        className: prefixCls + '-footer-content'\n      }, content), extra && _react2['default'].createElement('div', {\n        className: prefixCls + '-footer-extra'\n      }, extra));\n    }\n  }]);\n  return CardFooter;\n}(_react2['default'].Component);\n\nexports['default'] = CardFooter;\nCardFooter.defaultProps = {\n  prefixCls: 'am-card'\n};\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar CardHeader = function (_React$Component) {\n  (0, _inherits3['default'])(CardHeader, _React$Component);\n\n  function CardHeader() {\n    (0, _classCallCheck3['default'])(this, CardHeader);\n    return (0, _possibleConstructorReturn3['default'])(this, (CardHeader.__proto__ || Object.getPrototypeOf(CardHeader)).apply(this, arguments));\n  }\n\n  (0, _createClass3['default'])(CardHeader, [{\n    key: 'render',\n    value: function render() {\n      var _a = this.props,\n          prefixCls = _a.prefixCls,\n          className = _a.className,\n          title = _a.title,\n          thumb = _a.thumb,\n          thumbStyle = _a.thumbStyle,\n          extra = _a.extra,\n          restProps = __rest(_a, [\"prefixCls\", \"className\", \"title\", \"thumb\", \"thumbStyle\", \"extra\"]);\n\n      var wrapCls = (0, _classnames2['default'])(prefixCls + '-header', className);\n      return _react2['default'].createElement('div', (0, _extends3['default'])({\n        className: wrapCls\n      }, restProps), _react2['default'].createElement('div', {\n        className: prefixCls + '-header-content'\n      }, typeof thumb === 'string' ? // tslint:disable-next-line:jsx-no-multiline-js\n      _react2['default'].createElement('img', {\n        style: thumbStyle,\n        src: thumb\n      }) : thumb, title), extra ? // tslint:disable-next-line:jsx-no-multiline-js\n      _react2['default'].createElement('div', {\n        className: prefixCls + '-header-extra'\n      }, extra) : null);\n    }\n  }]);\n  return CardHeader;\n}(_react2['default'].Component);\n\nexports['default'] = CardHeader;\nCardHeader.defaultProps = {\n  prefixCls: 'am-card',\n  thumbStyle: {}\n};\nmodule.exports = exports['default'];","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Route } from 'react-router';\r\nimport { ListView, Card } from 'antd-mobile';\r\nimport asyncC from '../../../component/asyncC';\r\nimport { request } from '../../../request';\r\nimport api from '../../../request/api';\r\nimport { formatDate } from '../../../utlis';\r\nimport styles from './index.less';\r\nconst Detail = asyncC(() => import('./detail'));\r\n\r\nexport default class message extends Component {\r\n    state = {\r\n        pageNo: 1,\r\n        pageSize: 10,\r\n        hasMore: true,\r\n        dataBlobs: [],\r\n        dataSource: new ListView.DataSource({\r\n            rowHasChanged: (row1, row2) => row1 !== row2\r\n        }),\r\n        isLoading: false,\r\n        height: 0,\r\n    }\r\n\r\n    componentDidMount() {\r\n        const hei = document.documentElement.clientHeight - ReactDOM.findDOMNode(this.lv).getBoundingClientRect().top;\r\n        this.setState({ height: hei })\r\n        this.getMessages()\r\n    }\r\n\r\n    getMessages = () => { // 获取消息列表\r\n        const { pageNo, pageSize, dataBlobs, dataSource } = this.state;\r\n        this.setState({ isLoading: true })\r\n        request({ url: api.getMessages, data: { pageNo, pageSize } }).then(res => {\r\n            const { list, pageTurn } = res,\r\n                { nextPage, rowCount } = pageTurn,\r\n                _dataBlobs = [...dataBlobs, ...list];\r\n            this.setState({\r\n                dataBlobs: _dataBlobs,\r\n                hasMore: _dataBlobs.length >= rowCount ? false : true,\r\n                pageNo: nextPage,\r\n                dataSource: dataSource.cloneWithRows(_dataBlobs),\r\n                isLoading: false\r\n            })\r\n        }).catch(err => { this.setState({ isLoading: false }) })\r\n    }\r\n\r\n    onEndReached = (event) => {\r\n        const { isLoading, hasMore } = this.state;\r\n        if (isLoading || !hasMore)\r\n            return;\r\n        this.getMessages()\r\n    }\r\n\r\n    goToDetail = (rowData, index) => {\r\n        if (rowData.isRead === '0') {\r\n            request({ url: api.updateMessageRead, data: { msgId: rowData.msgId } }).then(res => {\r\n                const { dataBlobs, dataSource } = this.state,\r\n                    _dataBlobs = [...dataBlobs],\r\n                    currentRow = { ..._dataBlobs[index] };\r\n                currentRow.isRead = '1';\r\n                _dataBlobs.splice(index, 1, currentRow)\r\n                this.setState({\r\n                    dataBlobs: _dataBlobs,\r\n                    dataSource: dataSource.cloneWithRows(_dataBlobs)\r\n                })\r\n            }).catch(err => { })\r\n        }\r\n        const { history, match } = this.props;\r\n        history.push({\r\n            pathname: match.path + '/detail',\r\n            state: rowData\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { dataSource, height } = this.state,\r\n            { match } = this.props;\r\n        return (\r\n            <div className='bg_grey_list_view'>\r\n                <ListView\r\n                    ref={el => this.lv = el}\r\n                    dataSource={dataSource}\r\n                    renderRow={(item, sectionID, index) => <div>\r\n                        <div className={styles.message_time}>\r\n                            <span>{formatDate(new Date(item.msgDate))}</span>\r\n                        </div>\r\n                        <Card full className={styles.message_content}>\r\n                            <Card.Header\r\n                                title={<div className='oneRowsOverflowOmit'>{item.msgTitle}</div>}\r\n                                extra={<span className={item.isRead === '0' ? styles.message_content_noread : styles.message_content_isread} />}\r\n                            />\r\n                            <Card.Body>\r\n                                <p className='twoRowsOverflowOmit'>{item.msgContent}</p>\r\n                            </Card.Body>\r\n                            <Card.Footer extra={<div className={styles.message_content_view} onClick={this.goToDetail.bind(this, item, index)}>查看详情</div>} />\r\n                        </Card>\r\n                    </div>}\r\n                    style={{ height }}\r\n                    onEndReached={this.onEndReached}\r\n                    onEndReachedThreshold={30}\r\n                />\r\n                <Route path={match.path + '/detail'} component={Detail} />\r\n            </div>\r\n        );\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message_time\":\"index_message_time__3OUfK\",\"message_content_noread\":\"index_message_content_noread__2hPND\",\"message_content_isread\":\"index_message_content_isread__2PJIa\",\"message_content_view\":\"index_message_content_view__1MLNy\"};"],"sourceRoot":""}