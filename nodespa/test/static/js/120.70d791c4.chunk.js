webpackJsonp([120],{1118:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=function(){function e(){n(this,e)}return i(e,[{key:"init",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{add:!1,edit:!1,delete:!1,enable:!1,disable:!1,detail:!1,brandSetDept:!1,brandSetDuty:!1,addEqualLvDept:!1,addSubLvDept:!1,brandDeptEdit:!1,brandDeptDel:!1,brandDutyAdd:!1,brandDutyEdit:!1,brandDutyDel:!1,brandDutyDisable:!1,brandDutyEnable:!1,addUserGroup:!1,editUserGroup:!1,delUserGroup:!1,editRoot:!1,saveRoot:!1,customerEdit:!1,customerCancel:!1,customerSave:!1,customerCoordinate:!1,menuEdit:!1,menuDel:!1,menuTabEdit:!1,menuTabDel:!1,menuAddEqualLv:!1,menuAddSonLv:!1,menuAddSonTab:!1,EditBigType:!1,DelBigType:!1,EditSonType:!1,DelSonType:!1,AddBigType:!1,AddSonType:!1,proListAdd:!1,proListBatchAdd:!1,proListHide:!1,proListShow:!1,proListDt:!1,proSave:!1,proAdd:!1,proEdit:!1,proCancelEdit:!1,texturemenuAddEqualLv:!1,texturemenuAddSonLv:!1,texturemenuEdit:!1,texturemenuDel:!1,textureListAdd:!1,textureListBatchAdd:!1,textureListHide:!1,textureListShow:!1,textureListDt:!1,textureSave:!1,textureAdd:!1,textureEdit:!1,textureCancelEdit:!1,paramDetail:!1,paramSave:!1,paramAdd:!1,paramEdit:!1,paramCancelEdit:!1,partionDt:!1,partionListAdd:!1,partionDel:!1,partionSave:!1,partionAdd:!1,partionEdit:!1,partionCancelEdit:!1,materClassDt:!1,materClassView:!1,materFactDt:!1,materFactView:!1,materSave:!1,materAdd:!1,materFactAdd:!1,materEdit:!1,materFactEdit:!1,materCancelEdit:!1,quoteListDt:!1,quotemodelSave:!1,quotemodelAdd:!1,quotemodelEdit:!1,quotemodelCancelEdit:!1,gtbAdd:!1,gtbDel:!1,gtbEdit:!1,gtbSort:!1,gtbUpDown:!1,gtbAble:!1}}},{key:"btnresplaceData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return e.forEach(function(e){void 0!==t[e.code]&&0===e.status&&(t[e.code]=!0)}),t}}]),e}();t.a=r},2238:function(e,t,a){var n=a(2239);"string"===typeof n&&(n=[[e.i,n,""]]);var i={};i.transform=void 0;a(855)(n,i);n.locals&&(e.exports=n.locals)},2239:function(e,t,a){t=e.exports=a(854)(!0),t.push([e.i,"._5tZNroZ6VDgoGg0dXt6dP{padding:8px}._5tZNroZ6VDgoGg0dXt6dP .vJ_V7l-8nRQd6HgU99EYx{border:1px solid #ccc}._5tZNroZ6VDgoGg0dXt6dP ._2JURWwT0LPoEL3ot_v6yej{width:120px;height:100px;float:left;margin-left:8px;overflow:hidden;border:1px solid #ccc}._5tZNroZ6VDgoGg0dXt6dP ._2JURWwT0LPoEL3ot_v6yej img{width:100%}._5tZNroZ6VDgoGg0dXt6dP ._1uTHb8KZdOrj7bRuep3E2n:hover{color:#108ee9}._5tZNroZ6VDgoGg0dXt6dP ._3XobgnuWhKpejZCRvIWwpe{background-color:#e2e3e4;padding:16px}","",{version:3,sources:["E:/sf/src/view/caseManage/caseDetail.less"],names:[],mappings:"AAAA,wBACE,WAAa,CACd,AACD,+CACE,qBAAuB,CACxB,AACD,iDACE,YAAa,AACb,aAAc,AACd,WAAY,AACZ,gBAAiB,AACjB,gBAAiB,AACjB,qBAAuB,CACxB,AACD,qDACE,UAAY,CACb,AACD,uDACE,aAAe,CAChB,AACD,iDACE,yBAA0B,AAC1B,YAAc,CACf",file:"caseDetail.less",sourcesContent:[".caseDetail {\n  padding: 8px;\n}\n.caseDetail .border-1 {\n  border: 1px solid #ccc;\n}\n.caseDetail .imgBox {\n  width: 120px;\n  height: 100px;\n  float: left;\n  margin-left: 8px;\n  overflow: hidden;\n  border: 1px solid #ccc;\n}\n.caseDetail .imgBox img {\n  width: 100%;\n}\n.caseDetail .iconlr:hover {\n  color: #108ee9;\n}\n.caseDetail .pale_h2 {\n  background-color: #e2e3e4;\n  padding: 16px;\n}\n"],sourceRoot:""}]),t.locals={caseDetail:"_5tZNroZ6VDgoGg0dXt6dP","border-1":"vJ_V7l-8nRQd6HgU99EYx",imgBox:"_2JURWwT0LPoEL3ot_v6yej",iconlr:"_1uTHb8KZdOrj7bRuep3E2n",pale_h2:"_3XobgnuWhKpejZCRvIWwpe"}},2240:function(e,t){e.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_UDP_REUSEADDR:4}},933:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return{BreadList:e.BreadList,RouterHeight:e.RouterHeight,Userinfo:e.CdsUserInfo,UrlInitState:e.UrlInitState}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(205),E=(a.n(l),a(206)),s=a.n(E),c=a(135),d=(a.n(c),a(49)),S=a.n(d),_=a(132),O=(a.n(_),a(133)),u=a.n(O),p=a(130),N=(a.n(p),a(131)),m=a.n(N),A=a(72),I=(a.n(A),a(56)),f=a.n(I),D=a(315),C=(a.n(D),a(316)),T=a.n(C),g=a(1),h=a.n(g),L=(a(1118),a(84)),P=a(87),R=a(97),v=a(2238),b=(a.n(v),a(2240)),G=(a.n(b),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}()),y=function(e){T.a.error(e)},U=function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getDetailById=function(){var e=a.props.location.state;if(e){var t=e.id;t&&Object(L.c)("/case/detail/getById",{id:t},function(e){if(0===e.data.msgcode){var t=e.data.data;t.firstUrl=t.effectImageUrlList[0],a.setState({data:t,effectImageUrlList:t.effectImageUrlList}),a.getdata("/case/luminance/get","lightspot",t),a.getdata("/case/price/get","price",t),a.getdata("/case/household/get","household",t),a.getdata("/case/space/get","space",t),a.getdata("/case/area/get","area",t),a.getdata("/case/style/get","style",t),a.getdata("/case/common/getBuilding","Building",t)}else y(e.data.data)})}},a.getCarousel=function(){var e=Object.assign({},a.state.data);return a.state.effectImageUrlList.map(function(t,n){return h.a.createElement("div",{className:"imgBox",key:n+"imgBox",style:{border:n==a.state.activeKey?"2px solid #f00":"1px solid #ccc",cursor:"pointer"}},h.a.createElement("img",{src:L.h+t,onClick:function(){e.firstUrl=t,a.setState({data:e,activeKey:n})}}))})},a.detail=function(){var e=a.props,t=e.history,n=e.location,i=e.dispatch,r=e.BreadList,o=t.push,l=(n.pathname,a.props.location.state);if(l){var E=l.id;i({type:"ADD_BREADLIST",name:"\u6848\u4f8b\u4fee\u6539",url:"/caseManageEdit",funid:r.active.funid}),i(Object(P._5)("/caseManage/detail",a.state)),o({pathname:"/caseManageEdit",state:{saveUrl:a.props.saveUrl,id:E}})}},a.move=function(e){var t=a.state.left;if("left"==e){if(Math.ceil(a.state.left/128)>=0)return;t+=256}else if("right"==e){if(Math.ceil(-a.state.left/128)>=a.state.effectImageUrlList.length-2)return;t-=256}a.setState({left:t})},a.getdata=function(e,t,n){var i=a;Object(L.c)(e,{},function(e){var a=e.data.data;if(0===e.data.msgcode){var r=[],o=void 0,l=void 0,E=void 0,s=void 0,c=void 0,d=void 0,S=0,_=!0,O=!1,u=void 0;try{for(var p,N=a[Symbol.iterator]();!(_=(p=N.next()).done);_=!0){var m=p.value;if(S++,"space"===t&&m.id==n.sceneId&&(o=m.name,i.setState({space:o})),"price"===t&&m.id==n.priceId&&(l=m.name,i.setState({price:l})),"household"===t&&m.id==n.huxingId&&(E=m.name,i.setState({household:E})),"lightspot"===t){var A=!0,I=!1,f=void 0;try{for(var D,C=n.meritsIdList[Symbol.iterator]();!(A=(D=C.next()).done);A=!0){var T=D.value;m.id==T&&(r.push(m.name),i.setState({lightspot:r}))}}catch(e){I=!0,f=e}finally{try{!A&&C.return&&C.return()}finally{if(I)throw f}}}"area"===t&&m.id==n.areaId&&(s=m.name,i.setState({area:s})),"style"===t&&m.id==n.styleId&&(c=m.name,i.setState({style:c})),"Building"===t&&m.id==n.estateId&&(d=m.name,i.setState({Building:d}))}}catch(e){O=!0,u=e}finally{try{!_&&N.return&&N.return()}finally{if(O)throw u}}}})},a.open=function(e){var t=a.state.data;if("https://"==t.panorama)return void y("\u65e0\u6548\u7a7a\u767d\u94fe\u63a5");console.log(t.panorama),window.open(t.panorama,"_blank")},a.state={data:{},effectImageUrlList:[],activeKey:0,left:0,lightspot:[]},a}return r(t,e),G(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getDetailById();var e=this.props.UrlInitState,t=e["/caseManage/detail"];t&&this.setState(t)}},{key:"getHeight",value:function(){var e=this.props.RouterHeight.Height;return-1===e&&(e=document.getElementsByClassName("routercontent")[0].clientHeight),e-20}},{key:"render",value:function(){var e=this,t=this.state.data;return h.a.createElement("div",{className:"caseDetail",style:{height:this.getHeight()+"px",overflowY:"scroll"}},h.a.createElement(m.a,{className:"mb-16"},h.a.createElement(f.a,{type:"primary",onClick:this.detail},"\u7f16\u8f91")),h.a.createElement(m.a,{className:"mb-16"},h.a.createElement(u.a,{span:13},h.a.createElement(u.a,{className:"border-1 mb-8",style:{position:"relative",minHeight:"360px",overflow:"hidden"}},t.firstUrl?h.a.createElement("img",{src:L.h+t.firstUrl,height:"360px",style:{display:"block",margin:"0 auto"}}):null,h.a.createElement("div",{style:{position:"absolute",left:0,bottom:0,textAlign:"center",color:"#fff",opacity:.8,background:"#ccc",width:"100px",lineHeight:"30px"},className:"cursor-pointer",onClick:function(){e.setState({modalView:!0,modalUrl:t.firstUrl,modalTitle:"\u6548\u679c\u56fe"})}},"\u5168\u5c4f\u67e5\u770b"))),h.a.createElement(u.a,{offset:1,span:10},h.a.createElement(m.a,{className:"mb-16 blod"},h.a.createElement("h1",null,t.title)),h.a.createElement(m.a,{style:{fontWeight:"blod",color:"#333",marginBottom:"32px"}},h.a.createElement("div",null,"\u7a7a\u95f4 \u2003 ",this.state.space),h.a.createElement("div",null,"\u6237\u578b \u2003 ",this.state.household),h.a.createElement("div",null,"\u98ce\u683c \u2003 ",this.state.style),h.a.createElement("div",null,"\u697c\u76d8 \u2003 ",this.state.Building),h.a.createElement("div",null,"\u4ef7\u4f4d \u2003 ",this.state.price),h.a.createElement("div",null,"\u4eae\u70b9 \u2003 ",function(){return e.state.lightspot.map(function(e,t){return h.a.createElement("span",{key:t+""+e.id,className:"mr-8",style:{display:"inline-block"}},e)})}())),h.a.createElement("div",{className:"border-1",style:{minHeight:"80px",marginBottom:"40px"}},t.remark))),h.a.createElement(m.a,{className:"mb-16",style:{position:"relative"}},h.a.createElement(u.a,{span:13},h.a.createElement(u.a,null,h.a.createElement(u.a,{span:6},t.surfacePlotUrl?h.a.createElement("img",{src:L.h+t.surfacePlotUrl,height:"100px",style:{border:-1===this.state.activeKey?"2px solid #f00":"1px solid #ccc",display:"block",margin:"0 auto",cursor:"pointer",width:"90%"},onClick:function(){t.firstUrl=t.surfacePlotUrl,e.setState({data:t,activeKey:-1})}}):null),h.a.createElement(u.a,{span:1,className:"iconlr",onClick:this.move.bind(this,"left")},h.a.createElement(S.a,{type:"left",style:{fontSize:"32px",lineHeight:"100px"}})),h.a.createElement(u.a,{span:16,style:{position:"relative",overflow:"hidden",height:"100px"}},h.a.createElement("div",{style:{position:"absolute",top:0,left:this.state.left+"px",display:"flex",flexWrap:"no-wrap"}},this.getCarousel())),h.a.createElement(u.a,{span:1,className:"iconlr",onClick:this.move.bind(this,"right")},h.a.createElement(S.a,{type:"right",style:{fontSize:"32px",lineHeight:"100px"}})))),h.a.createElement(u.a,{offset:1,span:10},h.a.createElement("div",{className:"border-1",style:{height:"80px",overflow:"hidden",position:"relative"}},h.a.createElement("iframe",{src:t.panorama,height:"80px",width:"100%"}),h.a.createElement("div",{style:{position:"absolute",left:"45%",bottom:"30%",opacity:.8,textAlign:"center",color:"#fff",background:"#ccc",width:"100px",lineHeight:"30px"},onClick:this.open.bind(this),className:"cursor-pointer"},"\u67e5\u770b\u5168\u666f\u56fe")))),h.a.createElement(m.a,{className:"pale_h2 mb-8",style:{borderBottom:"2px solid #d7d7d7",textAlign:"center",marginTop:"32px"}},h.a.createElement("h2",null,"\u6848\u4f8b\u8be6\u60c5")),h.a.createElement(m.a,{ref:"details",id:"palette_details"},h.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.content}})),h.a.createElement(s.a,{maskClosable:!0,title:this.state.modalTitle,visible:this.state.modalView,width:"80%",zIndex:2e3,footer:null,onCancel:function(){e.setState({modalView:!1})}},h.a.createElement("img",{src:L.h+this.state.modalUrl,width:"100%"})))}}]),t}(g.Component);t.default=Object(R.b)(o)(U)}});