(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{532:function(e,t,a){"use strict";a(221),a(534)},533:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(42)),r=m(a(13)),o=m(a(24)),s=m(a(25)),l=m(a(14)),u=m(a(26)),c=m(a(43)),i=m(a(2)),d=m(a(536)),f=m(a(537)),p=m(a(538));function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(a[n[r]]=e[n[r]])}return a},g=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,a=e.full,o=e.className,s=h(e,["prefixCls","full","className"]),l=(0,c.default)(t,o,(0,r.default)({},t+"-full",a));return i.default.createElement("div",(0,n.default)({className:l},s))}}]),t}(i.default.Component);t.default=g,g.defaultProps={prefixCls:"am-card",full:!1},g.Header=p.default,g.Body=d.default,g.Footer=f.default,e.exports=t.default},534:function(e,t,a){},536:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(42)),r=i(a(24)),o=i(a(25)),s=i(a(14)),l=i(a(26)),u=i(a(43)),c=i(a(2));function i(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(a[n[r]]=e[n[r]])}return a},f=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,a=e.className,r=d(e,["prefixCls","className"]),o=(0,u.default)(t+"-body",a);return c.default.createElement("div",(0,n.default)({className:o},r))}}]),t}(c.default.Component);t.default=f,f.defaultProps={prefixCls:"am-card"},e.exports=t.default},537:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(42)),r=i(a(24)),o=i(a(25)),s=i(a(14)),l=i(a(26)),u=i(a(43)),c=i(a(2));function i(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(a[n[r]]=e[n[r]])}return a},f=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,a=e.content,r=e.className,o=e.extra,s=d(e,["prefixCls","content","className","extra"]),l=(0,u.default)(t+"-footer",r);return c.default.createElement("div",(0,n.default)({className:l},s),c.default.createElement("div",{className:t+"-footer-content"},a),o&&c.default.createElement("div",{className:t+"-footer-extra"},o))}}]),t}(c.default.Component);t.default=f,f.defaultProps={prefixCls:"am-card"},e.exports=t.default},538:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(42)),r=i(a(24)),o=i(a(25)),s=i(a(14)),l=i(a(26)),u=i(a(43)),c=i(a(2));function i(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(a[n[r]]=e[n[r]])}return a},f=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,a=e.className,r=e.title,o=e.thumb,s=e.thumbStyle,l=e.extra,i=d(e,["prefixCls","className","title","thumb","thumbStyle","extra"]),f=(0,u.default)(t+"-header",a);return c.default.createElement("div",(0,n.default)({className:f},i),c.default.createElement("div",{className:t+"-header-content"},"string"===typeof o?c.default.createElement("img",{style:s,src:o}):o,r),l?c.default.createElement("div",{className:t+"-header-extra"},l):null)}}]),t}(c.default.Component);t.default=f,f.defaultProps={prefixCls:"am-card",thumbStyle:{}},e.exports=t.default},754:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return E});a(532);var n=a(533),r=a.n(n),o=a(89),s=a(541),l=(a(544),a(545)),u=a.n(l),c=a(84),i=a(85),d=a(87),f=a(86),p=a(88),m=a(2),h=a.n(m),g=a(33),_=a.n(g),v=a(240),O=a(45),y=a(65),b=a(50),x=a(39),w=a(755),j=a.n(w),N=Object(O.a)(function(){return a.e(27).then(a.bind(null,790))}),E=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={pageNo:1,pageSize:10,hasMore:!0,dataBlobs:[],dataSource:new u.a.DataSource({rowHasChanged:function(e,t){return e!==t}}),isLoading:!1,height:0},a.getMessages=function(){var e=a.state,t=e.pageNo,n=e.pageSize,r=e.dataBlobs,o=e.dataSource;a.setState({isLoading:!0}),Object(y.a)({url:b.a.getMessages,data:{pageNo:t,pageSize:n}}).then(function(e){var t=e.list,n=e.pageTurn,l=n.nextPage,u=n.rowCount,c=Object(s.a)(r).concat(Object(s.a)(t));a.setState({dataBlobs:c,hasMore:!(c.length>=u),pageNo:l,dataSource:o.cloneWithRows(c),isLoading:!1})}).catch(function(e){a.setState({isLoading:!1})})},a.onEndReached=function(e){var t=a.state,n=t.isLoading,r=t.hasMore;!n&&r&&a.getMessages()},a.goToDetail=function(e,t){"0"===e.isRead&&Object(y.a)({url:b.a.updateMessageRead,data:{msgId:e.msgId}}).then(function(e){var n=a.state,r=n.dataBlobs,l=n.dataSource,u=Object(s.a)(r),c=Object(o.a)({},u[t]);c.isRead="1",u.splice(t,1,c),a.setState({dataBlobs:u,dataSource:l.cloneWithRows(u)})}).catch(function(e){});var n=a.props,r=n.history,l=n.match;r.push({pathname:l.path+"/detail",state:e})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=document.documentElement.clientHeight-_.a.findDOMNode(this.lv).getBoundingClientRect().top;this.setState({height:e}),this.getMessages()}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.height,o=this.props.match;return h.a.createElement("div",{className:"bg_grey_list_view"},h.a.createElement(u.a,{ref:function(t){return e.lv=t},dataSource:a,renderRow:function(t,a,n){return h.a.createElement("div",null,h.a.createElement("div",{className:j.a.message_time},h.a.createElement("span",null,Object(x.b)(new Date(t.msgDate)))),h.a.createElement(r.a,{full:!0,className:j.a.message_content},h.a.createElement(r.a.Header,{title:h.a.createElement("div",{className:"oneRowsOverflowOmit"},t.msgTitle),extra:h.a.createElement("span",{className:"0"===t.isRead?j.a.message_content_noread:j.a.message_content_isread})}),h.a.createElement(r.a.Body,null,h.a.createElement("p",{className:"twoRowsOverflowOmit"},t.msgContent)),h.a.createElement(r.a.Footer,{extra:h.a.createElement("div",{className:j.a.message_content_view,onClick:e.goToDetail.bind(e,t,n)},"\u67e5\u770b\u8be6\u60c5")})))},style:{height:n},onEndReached:this.onEndReached,onEndReachedThreshold:30}),h.a.createElement(v.a,{path:o.path+"/detail",component:N}))}}]),t}(m.Component)},755:function(e,t,a){e.exports={message_time:"index_message_time__3OUfK",message_content_noread:"index_message_content_noread__2hPND",message_content_isread:"index_message_content_isread__2PJIa",message_content_view:"index_message_content_view__1MLNy"}}}]);
//# sourceMappingURL=19.8759c57a.chunk.js.map